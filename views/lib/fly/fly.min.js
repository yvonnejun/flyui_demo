/*!
flyui-core v1.2.1
Licensed under ISC
Author: huanzhang & ueteam
Update: 2016-12-13 15:12:35 CST
*/ 
!function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(require,module,exports){"use strict";function empty(){}function ajaxSuccess(e,t,n,r){var i=n.context,a="success";n.dataFilter&&(e=n.dataFilter.call(i,e)),n.success.call(i,e,a,t),r&&r.resolveWith(i,[e,a,t])}function ajaxError(e,t,n,r,i){var a=r.context;r.error.call(a,n,t,e),i&&i.rejectWith(a,[n,t,e])}function ajaxComplete(e,t,n){var r=n.context;n.complete.call(r,t,e)}function mimeToDataType(e){return e&&(e=e.split(";",2)[0]),e&&(e==htmlType?"html":e==jsonType?"json":scriptTypeRE.test(e)?"script":xmlTypeRE.test(e)&&"xml")||"text"}function appendQuery(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function serializeData(e){e.processData&&e.data&&"string"!=$.type(e.data)&&(e.data=$.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=appendQuery(e.url,e.data),e.data=void 0)}function parseArguments(e,t,n,r){return $.isFunction(t)&&(r=n,n=t,t=void 0),$.isFunction(n)||(r=n,n=void 0),{url:e,data:t,success:n,dataType:r}}function serialize(e,t,n,r){var i,a=$.isArray(t),o=$.isPlainObject(t);$.each(t,function(t,s){i=$.type(s),r&&(t=n?r:r+"["+(o||"object"==i||"array"==i?t:"")+"]"),!r&&a?e.add(s.name,s.value):"array"==i||!n&&"object"==i?serialize(e,s,n,t):e.add(t,s)})}var $=require("./fly.jquery"),jsonpID=0,document=window.document,escape=encodeURIComponent,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/,originAnchor=document.createElement("a"),slice=Array.prototype.slice,key,name,Deferred;$.active=0,originAnchor.href=window.location.href,$.ajaxJSONP=function(e,t){if(!("type"in e))return ajax(e);var n,r,i=e.jsonpCallback,a=($.isFunction(i)?i():i)||"jsonp"+ ++jsonpID,o=document.createElement("script"),s=window[a],c=function(e){},u={abort:c},l=function(i,c){clearTimeout(r),o.parentNode.removeChild(o),"error"!=i.type&&n?ajaxSuccess(n[0],u,e,t):ajaxError(null,c||"error",u,e,t),window[a]=s,n&&$.isFunction(s)&&s(n[0]),s=n=void 0};return t&&t.promise(u),o.addEventListener("load",l),o.addEventListener("error",l),window[a]=function(){n=arguments},o.src=e.url.replace(/\?(.+)=\?/,"?$1="+a),document.head.appendChild(o),e.timeout>0&&(r=setTimeout(function(){c("timeout")},e.timeout)),u},$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},$.ajax=function(options){var settings=$.extend({},options||{}),deferred=$.Deferred&&$.Deferred(),urlAnchor,hashIndex;for(key in $.ajaxSettings)void 0===settings[key]&&(settings[key]=$.ajaxSettings[key]);settings.crossDomain||(urlAnchor=document.createElement("a"),urlAnchor.href=settings.url,urlAnchor.href=urlAnchor.href,settings.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host),settings.url||(settings.url=window.location.toString()),(hashIndex=settings.url.indexOf("#"))>-1&&(settings.url=settings.url.slice(0,hashIndex)),serializeData(settings);var dataType=settings.dataType,hasPlaceholder=/\?.+=\?/.test(settings.url);if(hasPlaceholder&&(dataType="jsonp"),settings.cache!==!1&&(options&&options.cache===!0||"script"!=dataType&&"jsonp"!=dataType)||(settings.url=appendQuery(settings.url,"_="+Date.now())),"jsonp"==dataType)return hasPlaceholder||(settings.url=appendQuery(settings.url,settings.jsonp?settings.jsonp+"=?":settings.jsonp===!1?"":"callback=?")),$.ajaxJSONP(settings,deferred);var mime=settings.accepts[dataType],headers={},setHeader=function(e,t){headers[e.toLowerCase()]=[e,t]},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(),nativeSetHeader=xhr.setRequestHeader,abortTimeout;if(deferred&&deferred.promise(xhr),settings.crossDomain||setHeader("X-Requested-With","XMLHttpRequest"),setHeader("Accept",mime||"*/*"),(mime=settings.mimeType||mime)&&(mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime)),(settings.contentType||settings.contentType!==!1&&settings.data&&"GET"!=settings.type.toUpperCase())&&setHeader("Content-Type",settings.contentType||"application/x-www-form-urlencoded"),settings.headers)for(name in settings.headers)setHeader(name,settings.headers[name]);if(xhr.setRequestHeader=setHeader,xhr.onreadystatechange=function(){if(4==xhr.readyState){xhr.onreadystatechange=empty,clearTimeout(abortTimeout);var result,error=!1;if(xhr.status>=200&&xhr.status<300||304==xhr.status||0==xhr.status&&"file:"==protocol){if(dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader("content-type")),"arraybuffer"==xhr.responseType||"blob"==xhr.responseType)result=xhr.response;else{result=xhr.responseText;try{"script"==dataType?(0,eval)(result):"xml"==dataType?result=xhr.responseXML:"json"==dataType&&(result=blankRE.test(result)?null:"object"==typeof JSON&&JSON.parse?JSON.parse(result):eval("("+result+")"))}catch(e){error=e}if(error)return ajaxError(error,"parsererror",xhr,settings,deferred)}ajaxSuccess(result,xhr,settings,deferred)}else ajaxError(xhr.statusText||null,xhr.status?"error":"abort",xhr,settings,deferred)}},settings.xhrFields)for(name in settings.xhrFields)xhr[name]=settings.xhrFields[name];var async=!("async"in settings)||settings.async;xhr.open(settings.type,settings.url,async,settings.username,settings.password);for(name in headers)nativeSetHeader.apply(xhr,headers[name]);return settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty,xhr.abort(),ajaxError(null,"timeout",xhr,settings,deferred)},settings.timeout)),xhr.send(settings.data?settings.data:null),xhr},$.param=function(e,t){var n=[];return n.add=function(e,t){$.isFunction(t)&&(t=t()),null==t&&(t=""),this.push(escape(e)+"="+escape(t))},serialize(n,e,t),n.join("&").replace(/%20/g,"+")},$.when=function(e){var t,n,r,i=slice.call(arguments),a=i.length,o=0,s=1!==a||e&&$.isFunction(e.promise)?a:0,c=1===s?e:Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?slice.call(arguments):i,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);o<a;++o)i[o]&&$.isFunction(i[o].promise)?i[o].promise().done(u(o,r,i)).fail(c.reject).progress(u(o,n,t)):--s;return s||c.resolveWith(r,i),c.promise()},$.Callbacks=function(e){e=$.extend({},e);var t,n,r,i,a,o,s=[],c=!e.once&&[],u=function(d){for(t=e.memory&&d,n=!0,o=i||0,i=0,a=s.length,r=!0;s&&o<a;++o)if(s[o].apply(d[0],d[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,s&&(c?c.length&&u(c.shift()):t?s.length=0:l.disable())},l={add:function(){if(s){var n=s.length,o=function(t){$.each(t,function(t,n){"function"==typeof n?e.unique&&l.has(n)||s.push(n):n&&n.length&&"string"!=typeof n&&o(n)})};o(arguments),r?a=s.length:t&&(i=n,u(t))}return this},remove:function(){return s&&$.each(arguments,function(e,t){for(var n;(n=$.inArray(t,s,n))>-1;)s.splice(n,1),r&&(n<=a&&--a,n<=o&&--o)}),this},has:function(e){return!(!s||!(e?$.inArray(e,s)>-1:s.length))},empty:function(){return a=s.length=0,this},disable:function(){return s=c=t=void 0,this},disabled:function(){return!s},lock:function(){return c=void 0,t||l.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!s||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],r?c.push(t):u(t)),this},fire:function(){return l.fireWith(this,arguments)},fired:function(){return!!n}};return l},$.Deferred=Deferred=function(e){var t=[["resolve","done",$.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",$.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",$.Callbacks({memory:1})]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Deferred(function(n){$.each(t,function(t,a){var o=$.isFunction(e[t])&&e[t];i[a[1]](function(){var e=o&&o.apply(this,arguments);if(e&&$.isFunction(e.promise))e.promise().done(n.resolve).fail(n.reject).progress(n.notify);else{var t=this===r?n.promise():this,i=o?[e]:arguments;n[a[0]+"With"](t,i)}})}),e=null}).promise()},promise:function(e){return null!=e?$.extend(e,r):r}},i={};return $.each(t,function(e,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?r:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},module.exports=$.ajax},{"./fly.jquery":8}],2:[function(e,t,n){"use strict";function r(e){var t,n,i,a,o,s,c,u={};for(c=e.match(z),t=0,n=c.length;t<n;t++)i=c[t],a=i.indexOf(":"),o=i.substring(0,a),s=i.substring(a+1),"{"==s.charAt(0)&&(s=r(s)),u[o]=s;return u}function i(e,t,n){var r,i={};for(r in e)i[r]=new n(t,e[r]);return i}function a(e,t,n,s){var c,u,l,d=e.getAttribute("data-role"),f=e.getAttribute("data-bind"),g=e.nodeName.toLowerCase(),v=e.children,m=[],y=!0,b={};if(n=n||[t],0===g.indexOf("fly:")&&(g=g.substring(4)),!d&&p.ui[g]&&(d=g),(d||f)&&o(e),s&&y&&v){for(u=0;u<v.length;u++)m[u]=v[u];for(u=0;u<m.length;u++)a(m[u],t,n)}if(d&&(l=h(e,d),e=l.target.element,v=e.children),f&&(f=r(f.replace(R,"")),l||(b=p.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:E,valuePrimitive:!1,itemChange:!0,autoBind:!0}),l=new Q(e,b)),l.source=t,c=i(f,n,J),b.template&&(c.template=new V(n,"",b.template)),c.click&&(f.events=f.events||{},f.events.click=f.click,c.click.destroy(),delete c.click),c.source&&(y=!1),f.attr&&(c.attr=i(f.attr,n,J)),f.style&&(c.style=i(f.style,n,J)),f.events&&(c.events=i(f.events,n,W)),f.css&&(c.css=i(f.css,n,J)),l.bind(c)),l&&(e.flyBindingTarget=l),!s&&y&&v){for(u=0;u<v.length;u++)m[u]=v[u];for(u=0;u<m.length;u++)a(m[u],t,n)}}function o(e){var t=e.flyBindingTarget,n=e.handler;t&&(t.destroy(),p.deleteExpando(e,"flyBindingTarget")),n&&n.destroy()}function s(e){o(e),c(e)}function c(e){var t=e.children;if(t)for(var n=0,r=t.length;n<r;n++)s(t[n])}function u(e){var t,n;if(e)for(p.isDOM(e)&&(e=[e]),t=0,n=e.length;t<n;t++)s(e[t])}function l(e,t,n){var r,i,o;if(e)for(p.isDOM(e)&&(e=[e]),r=0,i=e.length;r<i;r++)o=e[r],1===o.nodeType&&a(o,t,n)}function d(e){var t=e.element,n=t.flyBindingTarget;n&&l(t,n.source)}function f(e,t){var n,r,i=[],a=0;if(!t)return e;if(e instanceof k){for(n=e.length;a<n;a++)r=e[a],i[a]=r.get?r.get(t):r[t];e=i}else e instanceof C&&(e=e.get(t));return e}function h(e,t){var n=b.component(e,{},t);if(n)return new G(n)}var p=e("./fly.core"),g=(e("./fly.utils"),e("./fly.data")),v=e("./fly.template"),m=e("./fly.format"),y=(e("./fly.component"),p.$),b=p.ui,_=y.proxy,x=y.isArray,w=p.Class,S=p.Observable,C=p.ObservableObject,k=p.ObservableArray,T={},O={component:T},$="function",j="number",E="change",A="value",D="source",N="events",F="checked",M="css",L="disabled",H="readonly",D="source",P="dataSource",q="setDataSource",z=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,R=/\s/g,B="The {0} binding is not supported by the {1} {2}",I=function(e,t){if(e&&t){if(e.getTime())return p.formatDate(e,t);if(typeof e===j)return p.formatNumber(e,t)}return void 0!==e?e:""},U=function(e,t){return"date"==t?e=I(e,"yyyy-MM-dd"):"datetime"==t&&(e=I(e,"yyyy-MM-dd HH:mm:ss")),e},J=S.extend({ctor:function(e,t){var n=this;n._super(),n.source=e&&e[0],n.parents=e,n.path=t,n.dependencies={},n.dependencies[t]=!0,n.observable=n.source instanceof S,n._access=function(e){n.dependencies[e.field]=!0},n.observable&&(n._change=function(e){n.change(e)},n.source.bind(E,n._change))},_parents:function(){var e=this.parents,t=this.get();if(t&&typeof t.parent==$){var n=t.parent();y.inArray(n,e)<0&&(e=[n].concat(e))}return e},change:function(e){var t,n,r=e.field,i=this;if("this"===i.path)i.trigger(E,e);else for(t in i.dependencies)if(0===t.indexOf(r)&&(n=t.charAt(r.length),!n||"."===n||"["===n)){i.trigger(E,e);break}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,t=e.source,n=0,r=e.path,i=t;if(!e.observable)return i;for(e.start(e.source),i=t.get(r);void 0===i&&t;)t=e.parents[++n],t instanceof C&&(i=t.get(r));if(void 0===i)for(t=e.source;void 0===i&&t;)t=t.parent(),t instanceof C&&(i=t.get(r));return typeof i===$&&(n=r.lastIndexOf("."),n>0&&(t=t.get(r.substring(0,n))),e.start(t),i=t!==e.source?i.call(t,e.source):i.call(t),e.stop(t)),t&&t!==e.source&&(e.currentSource=t,t.unbind(E,e._change).bind(E,e._change)),e.stop(e.source),i},set:function(e){var t=this.currentSource||this.source,n=p.getter(this.path)(t);typeof n===$?t!==this.source?n.call(t,this.source,e):n.call(t,e):t.set(this.path,e)},destroy:function(){this.observable&&(this.source.unbind(E,this._change),this.currentSource&&this.currentSource.unbind(E,this._change)),this.unbind()}}),W=J.extend({get:function(){var e,t=this.source,n=this.path,r=0;for(e=t.get(n);!e&&t;)t=this.parents[++r],t instanceof C&&(e=t.get(n));return _(e,t)}}),V=J.extend({ctor:function(e,t,n){this._super(e,t),this.template=n},render:function(e){var t;return this.start(this.source),t=v(this.template,e.toJSON&&e.toJSON(!0)||e),this.stop(this.source),t}}),Q=w.extend({ctor:function(e,t){this.target=e,this.options=t,this.toDestroy=[]},bind:function(e){var t,n,r,i,a,o,s=this instanceof G,c=this.binders();for(t in e)t==A?n=!0:t==D?r=!0:t==N?i=!0:t==F?a=!0:t!=M||s?this.applyBinding(t,e,c):o=!0;r&&this.applyBinding(D,e,c),n&&this.applyBinding(A,e,c),a&&this.applyBinding(F,e,c),i&&this.applyBinding(N,e,c),o&&!s&&this.applyBinding(M,e,c)},binders:function(){return O[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(e,t,n){var r,i=n[e]||O[e],a=this.toDestroy,o=t[e];if(i)if(i=new i(this.target,t,this.options),a.push(i),o instanceof J)i.bind(o),a.push(o);else for(r in o)i.bind(o,r),a.push(o[r]);else if("template"!==e)throw new Error(m(B,e,this.target.nodeName.toLowerCase(),"element"))},destroy:function(){var e,t,n=this.toDestroy;for(e=0,t=n.length;e<t;e++)n[e].destroy()}}),G=Q.extend({binders:function(){return T[this.target.name.toLowerCase()]||{}},applyBinding:function(e,t,n){var r,i=n[e]||T[e],a=this.toDestroy,o=t[e];if(!i)throw new Error(m(B,e,this.target.name,"component"));if(i=new i(this.target,t,this.target.options),a.push(i),o instanceof J)i.bind(o),a.push(o);else for(r in o)i.bind(o,r),a.push(o[r])}}),X=w.extend({ctor:function(e,t,n){this.element=e,this.bindings=t,this.options=n},bind:function(e,t){var n=this;e=t?e[t]:e,e.bind(E,function(e){n.refresh(t||e)}),n.refresh(t)},destroy:function(){}}),Z=X.extend({dataType:function(){var e=this.element.getAttribute("data-type")||this.element.type||"text";return e.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(e,t){return"date"==t?e=I(e,"yyyy-MM-dd"):"datetime"==t?e=I(e,"yyyy-MM-dd HH:mm:ss"):"number"==t?e=parseFloat(e):"boolean"==t&&(e=e.toLowerCase(),e=NaN!==parseFloat(e)?Boolean(parseFloat(e)):"true"===e),e}});O.attr=X.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),O.css=X.extend({ctor:function(e,t,n){this._super(e,t,n),this.classes={}},refresh:function(e){var t=this.element,n=this.bindings.css[e],r=this.classes[e]=n.get();r?p.addClass(t,e):p.removeClass(t,e)}}),O.style=X.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),O.enabled=X.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute(L):this.element.setAttribute(L,L)}}),O.readonly=X.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute(H,H):this.element.removeAttribute(H)}}),O.disabled=X.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute(L,L):this.element.removeAttribute(L)}}),O.events=X.extend({ctor:function(e,t,n){this._super(e,t,n),this.handlers={}},refresh:function(e){var t=this.element,n=this.bindings.events[e],r=this.handlers[e];r&&p.off(t,e,r),r=this.handlers[e]=function(e){e.handleObj=e.handleObj||{},e.handleObj.data=n.source,n.get()(e)},p.on(t,e,r)},destroy:function(){var e,t=this.element;for(e in this.handlers)p.off(t,e,this.handlers[e])}}),O.text=X.extend({refresh:function(){var e=this.element,t=e.getAttribute("data-format")||"",n=this.bindings.text.get();null==n&&(n=""),e.innerText=I(n,t)}}),O.visible=X.extend({refresh:function(){this.bindings.visible.get()?this.element.style.display="":this.element.style.display="none"}}),O.invisible=X.extend({refresh:function(){this.bindings.invisible.get()?this.element.style.display="none":this.element.style.display=""}}),O.html=X.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),O.value=Z.extend({ctor:function(e,t,n){this._super(e,t,n),this._change=_(this.change,this),this.eventName=n.valueUpdate||E,p.on(this.element,this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=E,this.bindings[A].set(this.parsedValue()),this._initChange=!1},refresh:function(){if(!this._initChange){var e=this.bindings[A].get();null==e&&(e=""),e=U(e,this.dataType()),this.element.value=e}this._initChange=!1},destroy:function(){p.off(this.element,this.eventName,this._change)}}),O.source=X.extend({ctor:function(e,t,n){if(e){this._super(e,t,n);var r=this.bindings.source.get();r instanceof g&&n.autoBind!==!1&&r.fetch()}},refresh:function(e){var t=this,n=t.options.itemChange,r=t.bindings.source.get();r instanceof k?(e=e||{},"add"==e.action?t.add(e.index,e.items):"remove"==e.action?t.remove(e.index,e.items):void 0==e.action?t.render():"itemchange"==e.action&&n&&t.render()):t.render()},container:function(){var e=this.element;return"table"==e.nodeName.toLowerCase()&&(e.tBodies[0]||e.appendChild(document.createElement("tbody")),e=e.tBodies[0]),e},template:function(){var e=this.options,t=e.template,n=e.textField,r=e.valueField,i=this.container().nodeName.toLowerCase();return t?t=v.renderFile(t):(t="select"==i?r||n?'<option value="{{'+r||n+'}}">'+n||r+"</option>":"<option>{{data}}</option>":"tbody"==i?"<tr><td>{{data}}</td></tr>":"ul"==i||"ol"==i?"<li>{{data}}</li>":"{{data}}",t=v.compile(t)),t},add:function(e,t){var n,r,i,o,s=this.container(),c=s.cloneNode(!1),u=s.children[e];if(c.innerHTML=this.template()(t),c.children.length)for(n=this.bindings.source._parents(),r=0,i=t.length;r<i;r++)o=c.children[0],s.insertBefore(o,u||null),a(o,t[r],[t[r]].concat(n))},remove:function(e,t){var n,r=this.container();for(n=0;n<t.length;n++){var i=r.children[e];s(i),r.removeChild(i)}},render:function(){var e,t,n,r=this.bindings.source.get(),i=this.container(),o=this.template();for(r instanceof g&&(r=r.view()),r instanceof k||x(r)||(r=[r]);i.hasChildNodes();)i.removeChild(i.firstChild);if(this.bindings.template){if(c(i),y.each(y(this.bindings.template.render(r)),function(e,t){i.appendChild(t)}),i.children.length)for(e=this.bindings.source._parents(),t=0,n=r.length;t<n;t++)a(i.children[t],r[t],[r[t]].concat(e))}else i.innerHTML=o(r)}}),O.input={checked:Z.extend({ctor:function(e,t,n){this._super(e,t,n),this._change=_(this.change,this),p.on(this.element,E,this._change)},change:function(){var e=this.element,t=this.value();if("radio"==e.type)t=this.parsedValue(),this.bindings[F].set(t);else if("checkbox"==e.type){var n,r=this.bindings[F].get();if(r instanceof k){if(t=this.parsedValue(),t instanceof Date){for(var i=0;i<r.length;i++)if(r[i]instanceof Date&&+r[i]===+t){n=i;break}}else n=r.indexOf(t);n>-1?r.splice(n,1):r.push(t)}else this.bindings[F].set(t)}},refresh:function(){var e=this.bindings[F].get(),t=e,n=this.dataType(),r=this.element;if("checkbox"==r.type)if(t instanceof k){var i=-1;if(e=this.parsedValue(),e instanceof Date){for(var a=0;a<t.length;a++)if(t[a]instanceof Date&&+t[a]===+e){i=a;break}}else i=t.indexOf(e);r.checked=i>=0}else r.checked=t;else"radio"==r.type&&null!=e&&(e=U(e,n),r.value===e.toString()&&(r.checked=!0))},value:function(){var e=this.element,t=e.value;return"checkbox"==e.type&&(t=e.checked),t},destroy:function(){p.off(this.element,E,this._change)}})},O.select={source:O.source.extend({refresh:function(e){var t=this,n=t.bindings.source.get();n instanceof k||n instanceof g?(e=e||{},"add"==e.action?t.add(e.index,e.items):"remove"==e.action?t.remove(e.index,e.items):"itemchange"!=e.action&&void 0!==e.action||(t.render(),t.bindings.value&&t.bindings.value.source.trigger(E,{field:t.bindings.value.path}))):t.render()}}),value:Z.extend({ctor:function(e,t,n){this._super(e,t,n),this._change=_(this.change,this),p.on(this.element,E,this._change)},parsedValue:function(){var e,t,n,r,i=this.dataType(),a=[],o=this.element;for(n=0,r=o.options.length;n<r;n++)t=o.options[n],t.selected&&(e=t.attributes.value,e=e&&e.specified?t.value:t.text,a.push(this._parseValue(e,i)));return a},change:function(){var e,t,n,r,i,a=[],o=(this.element,this.options),s=o.valueField||o.textField,c=o.valuePrimitive;if(a=this.parsedValue(),s)for(e=this.bindings.source.get(),e instanceof g&&(e=e.view()),t=0;t<a.length;t++)for(r=0,i=e.length;r<i;r++){var u=c?this._parseValue(a[t],this.dataType())===e[r].get(s):this._parseValue(e[r].get(s),this.dataType()).toString()===a[t];if(u){a[t]=e[r];break}}n=this.bindings[A].get(),n instanceof k?n.splice.apply(n,[0,n.length].concat(a)):c||!(n instanceof C||null===n||void 0===n)&&s?this.bindings[A].set(a[0].get(s)):this.bindings[A].set(a[0])},refresh:function(){var e,t,n=this.element,r=n.options,i=(this.options.valuePrimitive,this.bindings[A].get()),a=i,o=this.options.valueField||this.options.textField,s=!1,c=this.dataType();a instanceof k||(a=new k([i])),n.selectedIndex=-1;for(var u=0;u<a.length;u++)for(i=a[u],o&&i instanceof C&&(i=i.get(o)),i=U(a[u],c),e=0;e<r.length;e++)t=r[e].value,""===t&&""!==i&&(t=r[e].text),null!=i&&t==i.toString()&&(r[e].selected=!0,s=!0)},destroy:function(){y(this.element).off(E,this._change)}})},T.events=X.extend({ctor:function(e,t,n){this._super(e.element,t,n),this.component=e,this.handlers={}},refresh:function(e){var t=this.bindings.events[e],n=this.handlers[e];n&&this.component.unbind(e,n),n=t.get(),this.handlers[e]=function(e){e.data=t.source,n(e),e.data===t.source&&delete e.data},this.component.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.component.unbind(e,this.handlers[e])}}),T.checked=X.extend({ctor:function(e,t,n){this._super(e.element,t,n),this.component=e,this._change=_(this.change,this),this.component.bind(E,this._change)},change:function(){this.bindings[F].set(this.value())},refresh:function(){this.component.check(this.bindings[F].get()===!0)},value:function(){var e=this.element,t=e.value;return"on"!=t&&"off"!=t||(t=e.checked),t},destroy:function(){this.component.unbind(E,this._change)}}),T.visible=X.extend({ctor:function(e,t,n){this._super(e.element,t,n),this.component=e},refresh:function(){var e=this.bindings.visible.get();this.component.wrapper[0].style.display=e?"":"none"}}),T.invisible=X.extend({ctor:function(e,t,n){this._super(e.element,t,n),this.component=e},refresh:function(){var e=this.bindings.invisible.get();this.component.wrapper[0].style.display=e?"none":""}}),T.enabled=X.extend({ctor:function(e,t,n){this._super(e.element,t,n),this.component=e},refresh:function(){this.component.enable&&this.component.enable(this.bindings.enabled.get())}}),T.disabled=X.extend({ctor:function(e,t,n){this._super(e.element,t,n),this.component=e},refresh:function(){this.component.enable&&this.component.enable(!this.bindings.disabled.get())}}),T.source=X.extend({ctor:function(e,t,n){var r=this;r._super(e.element,t,n),r.component=e,r._dataBinding=_(r.dataBinding,r),r._dataBound=_(r.dataBound,r),r._itemChange=_(r.itemChange,r)},itemChange:function(e){a(e.item[0],e.data,[e.data].concat(this.bindings[D]._parents()))},dataBinding:function(e){var t,n,r=this.component,i=e.removedItems||r.items();for(t=0,n=i.length;t<n;t++)s(i[t])},dataBound:function(e){var t,n,r,i,o=this.component,s=e.addedItems||o.items(),c=o[P];if(s.length)for(r=e.addedDataItems||c.view(),i=this.bindings[D]._parents(),t=0,n=r.length;t<n;t++)a(s[t],r[t],[r[t]].concat(i))},refresh:function(e){var t,n=this,r=n.component;e=e||{},e.action||(n.destroy(),r.bind("dataBinding",n._dataBinding),r.bind("dataBound",n._dataBound),r.bind("itemChange",n._itemChange),t=n.bindings[D].get(),r[P]instanceof g&&r[P]!=t&&(t instanceof g?r[q](t):t&&t._dataSource?r[q](t._dataSource):(r[P].data(t),n.bindings.value&&b.Select&&r instanceof b.Select&&r.value(f(n.bindings.value.get(),r.options.valueField)))))},destroy:function(){var e=this.component;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange)}}),T.value=X.extend({ctor:function(e,t,n){this._super(e.element,t,n),this.component=e,this._change=_(this.change,this),this.component.first(E,this._change);var r=this.bindings.value.get();this._valueIsObservableObject=!n.valuePrimitive&&r instanceof C,this._valueIsObservableArray=r instanceof k,this._initChange=!1},change:function(){var e,t,n,r,i,a,o,s=this.component.value(),c=this.options,u=c.valueField||c.textField,l=y.isArray(s),d=this._valueIsObservableObject,f=[];if(this._initChange=!0,u)if(this.bindings.source&&(o=this.bindings.source.get()),""===s&&(d||c.valuePrimitive))s=null;else{for((!o||o instanceof g)&&(o=this.component.dataSource.view()),l&&(t=s.length,f=s.slice(0)),i=0,a=o.length;i<a;i++)if(n=o[i],r=n.get(u),l){for(e=0;e<t;e++)if(r==f[e]){f[e]=n;break}}else if(r==s){s=d?n:r;break}f[0]&&(s=this._valueIsObservableArray?f:d||!u?f[0]:f[0].get(u))}this.bindings.value.set(s),this._initChange=!1},refresh:function(){if(!this._initChange){var e,t=this.component,n=this.options,r=n.textField,i=n.valueField||r,a=this.bindings.value.get(),o=n.text||"",s=0,c=[];if(void 0===a&&(a=null),i)if(a instanceof k){for(e=a.length;s<e;s++)c[s]=a[s].get(i);a=c}else a instanceof C&&(o=a.get(r),a=a.get(i));t.options.autoBind===!1&&t.listView&&!t.listView.isBound()?(r!==i||o||(o=a),t._preselect(a,o)):t.value(a)}this._initChange=!1},destroy:function(){this.component.unbind(E,this._change)}}),p.bind=l,p.unbind=u,p.notify=d,p.binders=O,p.Binder=X,t.exports=l},{"./fly.component":4,"./fly.core":5,"./fly.data":6,"./fly.format":7,"./fly.template":16,"./fly.utils":17}],3:[function(e,t,n){"use strict";var r=e("./fly.core"),i={},a=Math,o=function(e){var t;try{t=e.toString().split(".")[1].length}catch(n){t=0}return t},s=function(e){return Number(e.toString().replace(".",""))};i.add=function(e,t){var n=a.max(o(e),o(t)),r=a.pow(10,n);return a.floor(e*r+t*r)/r},i.sub=function(e,t){var n=a.max(o(e),o(t)),r=a.pow(10,n);return a.floor(e*r-t*r)/r},i.mul=function(e,t){var n=o(e)+o(t),r=a.pow(10,n);return s(e)*s(t)/r},i.div=function(e,t){var n=o(t)-o(e),r=a.pow(10,n);return s(e)/s(t)*r},r.calc=i,t.exports=i},{"./fly.core":5}],4:[function(e,t,n){"use strict";var r=e("./fly.core"),i=e("./fly.observable"),a=(e("./fly.utils"),e("./fly.data")),o=r.$,s=r.NS,c=r.ui,u=o.proxy,l=([].slice,"string"),d="role",f="handler",h="progress",p="error",g="change",v=i.extend({ctor:function(e,t,n){var i,a=this,c=a.name||"";e&&(!e.nodeType&&e.length&&(e=e[0]),t=t||{},i=t.dataSource||null,a.element=e,i&&delete t.dataSource,t=a.options=o.extend(!0,{},r.dataset(e),a.options,t),i&&(t.dataSource=i),a._super(),a._render(),a._dataSource(),"undefined"!=typeof jQuery&&(a.$element=jQuery(a.element)),n!==!1&&(a.element[d]=c.toLowerCase(),a.element[s+c]=a,a.element[f]=a),a.bind(a.events,t))},events:[],options:{},_hasBindingTarget:function(){return!!this.element.flyBindingTarget},_tabindex:function(e){},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},_unbindDataSource:function(){this.dataSource.unbind(g,this._refreshHandler).unbind(h,this._progressHandler).unbind(p,this._errorHandler)},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=u(e.refresh||o.noop,e),e._progressHandler=u(e.progress||o.noop,e),e._errorHandler=u(e.error||o.noop,e)),e.dataSource=a.create(e.options.dataSource).bind(g,e._refreshHandler).bind(h,e._progressHandler).bind(p,e._errorHandler)},setOptions:function(e){this._setEvents(e),o.extend(this.options,e)},_setEvents:function(e){for(var t,n=this,r=0,i=n.events.length;r<i;r++)t=n.events[r],n.options[t]&&e[t]&&n.unbind(t,n.options[t]);n.bind(n.events,e)},resize:function(e){var t=this.getSize(),n=this._size;(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this._size=t,this._resize(t,e),this.trigger("resize",t))},getSize:function(){var e=this.element;return{width:e.offsetWidth,height:e.offsetHeight}},size:function(e){return e?void this.setSize(e):this.getSize()},setSize:o.noop,_resize:o.noop,dataItems:function(){return this.dataSource&&this.dataSource.view()},_render:function(){var e,t,n,r=this,i=r.element;if(r.template){for(r._getAttribute(),e=document.createDocumentFragment(),t=o(r.template(r.options))[0],i.parentNode.insertBefore(t,i),n=t.getElementsByTagName("content")[0];i.childNodes.length;)e.appendChild(i.firstChild);n?(n.parentNode.insertBefore(e,n),n.parentNode.removeChild(n)):t.appendChild(e),r.element=t,i.parentNode.removeChild(i),r._setAttribute()}},_getAttribute:function(){var e=this.element,t={};o.each(e.attributes,function(e,n){"data-bind"!==n.name&&"data-role"!==n.name&&(t[n.name]=n.value)}),this.attrs=t},_setAttribute:function(){var e=this.element;o.each(this.attrs,function(t,n){"class"==t?r.addClass(e,n):e.setAttribute(t,n)})},bindViewModel:function(e,t){t||(t=e,e=this.element),r.bind(e,t)},destroy:function(e){var e=e||this,t=e.element,n=s+e.name;t&&(r.deleteExpando(t,n),r.deleteExpando(t,f),r.deleteExpando(t,d),r.unbind(t))}});c.component=function(e,t,n){var i,a,s,u;if(a=c[n]){var d="fly"+a.fn.name,f=new RegExp("^"+d+"$","i");for(var h in e)if(h.match(f)){if(h!==d)return e[h];i=e[h];break}u=r.parseOption(e,"dataSource"),t=o.extend({},r.parseOptions(e,a.fn.options),t),u&&(typeof u===l?t.dataSource=r.getter(u)(window):t.dataSource=u);for(var p,g=0,v=a.fn.events,m=v.length;g<m;g++)p=v[g],s=r.parseOption(e,p),void 0!==s&&(t[p]=r.getter(s)(window));return i?o.isEmptyObject(t)||i.setOptions(t):i=new a(e,t),i}},r.component=function(e){var t=e.fn.name;r.ui[t.toLowerCase()]=e},r.Component=v,t.exports=v},{"./fly.core":5,"./fly.data":6,"./fly.observable":12,"./fly.utils":17}],5:[function(e,t,n){function r(e,t){var n,r,i,a,o=t||"d",s=1;for(r=0,i=e.length;r<i;r++)a=e[r],""!==a&&(n=a.indexOf("["),0!==n&&(n==-1?a="."+a:(s++,a="."+a.substring(0,n)+" || {})"+a.substring(n))),s++,o+=a+(r<i-1?" || {})":")"));return new Array(s).join("(")+o}var i=e("./fly.jquery"),a=(e("./fly.ajax"),e("./fly.support")),o=window,s="function",c="ctor",u={},l={},d=function(){},f=function(e){return f.observable(e)};f.keys={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34};var h=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;d.extend=function(e){function t(){this[c].apply(this,arguments)}var n=this.prototype,r=new this;for(var i in e)r[i]=typeof e[i]==s&&typeof n[i]==s&&h.test(e[i])?function(e,t){return function(){var r=this._super;this._super=n[e];var i=t.apply(this,arguments);return this._super=r,i}}(i,e[i]):e[i];for(var a in this)this.hasOwnProperty(a)&&"extend"!=a&&(t[a]=this[a]);if(t.prototype=r,e.statics)for(var i in e.statics)e.statics.hasOwnProperty(i)&&(t[i]=e.statics[i],i==c&&t[i]());return t.prototype.constructor=t,t.extendPrototype=function(e){for(var t in e)r[t]=e[t]},t.fn=t.prototype,t.extend=arguments.callee,t},f.guid=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return e.replace(/[xy]/g,function(e){
var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}).toUpperCase()},f.identity=function(e){return e},f.expr=function(e,t,n){return e=e||"","string"==typeof t&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),t?(e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"'),e=e.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),e=r(e.split("."),n),e=e.replace(/_\$DOT\$_/g,".")):e=n+e,e},f.getter=function(e,t){var n=e+t;return u[n]=u[n]||new Function("d","return "+f.expr(e,t))},f.setter=function(e){return l[e]=l[e]||new Function("d, value",f.expr(e)+"=value")},f.NS="fly",f.$=o.jQuery||i,f.win=o,f.Class=d,f.support=i.extend(a,i.support),f.ui={roles:{},defaults:{}},t.exports=f},{"./fly.ajax":1,"./fly.jquery":8,"./fly.support":15}],6:[function(e,t,n){"use strict";function r(e,t){if(e){var n=typeof e===B?{field:e,dir:t}:e,r=M(n)?n:void 0!==n?[n]:[];return L(r,function(e){return!!e.dir})}}function i(e){var t,n,r,a,o=e.filters;if(o)for(t=0,n=o.length;t<n;t++)r=o[t],a=r.operator,a&&typeof a===B&&(r.operator=te[a.toLowerCase()]||a),i(r)}function a(e){if(e&&!A(e))return!M(e)&&e.filters||(e={logic:"and",filters:M(e)?e:[e]}),i(e),e}function o(e,t,n,r,i){var a,o,s,c,u;for(c=0,u=e.length;c<u;c++){a=e[c];for(o in t)s=i[o],s&&s!==o&&(a[s]=t[o](a),delete a[o])}}function s(e,t,n,r,i){var a,o,s,c,u;for(c=0,u=e.length;c<u;c++){a=e[c];for(o in t)a[o]=n._parse(o,t[o](a)),s=i[o],s&&s!==o&&delete a[s]}}function c(e,t,n,r,i,a){return function(o){return o=e(o),o&&!A(r)&&(toString.call(o)===ee||o instanceof x||(o=[o]),n(o,r,new t,i,a)),o||[]}}function u(e,t,n,r){for(var i=0;i<e.length&&e[i].data!==t&&!l(e[i].data,n,r);i++);}function l(e,t,n){for(var r=0,i=e.length;r<i;r++)if(e[r]===t||e[r]===n)return e[r]=n,!0}function d(e,t,n,r){for(var i=0,a=e.length;i<a;i++){var o=e[i];if(o&&!(o instanceof r))for(var s=0;s<t.length;s++)if(t[s]===o){e[i]=t.at(s),u(n,t,o,e[i]);break}}}function f(e,t){var n,r;for(n=0,r=e.length;n<r;n++){var i=e.at(n);if(i.uid==t.uid)return e.splice(n,1),i}}function h(e,t){return t?p(e,function(e){return e.uid==t.uid}):-1}function p(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(t(e[n]))return n;return-1}function g(e,t){var n,r,i,a,o,s=k(e)[0].children,c=[],u=t[0],l=t[1];for(n=0,r=s.length;n<r;n++)i={},o=s[n],o.disabled||(i[u.field]=o.text,a=o.attributes.value,a=a&&a.specified?o.value:o.text,i[l.field]=a,c.push(i));return c}var v=e("./fly.core"),m=(e("./fly.observable"),e("./fly.model")),y=(e("./fly.format"),v.Class),b=v.Observable,_=v.ObservableObject,x=v.ObservableArray,w=v.LazyObservableArray,S=v.identity,C=v.getter,k=v.$,T=k.ajax,O=k.each,$=k.map,j=k.proxy,E=k.extend,A=k.isEmptyObject,D=k.isPlainObject,N=k.isFunction,F=k.isNumeric,M=k.isArray,L=k.grep,H=k.noop,P=k.Deferred,q=[].slice,z=Math,R="function",B="string",I="change",U="create",J="read",W="update",V="destroy",Q="error",G="requestStart",X="progress",Z="requestEnd",K="empty",Y=[U,J,W,V],ee="[object Array]",te={"==":"eq","!=":"neq","<":"lt","<=":"lte",">":"gt",">=":"gte",notsubstringof:"doesnotcontain"},ne=/^\/Date\((.*?)\)\/$/,re=/(\r+|\n+)/g,ie=/(?=['\\])/g,ae=b.extend({ctor:function(e){if(e){M(e)&&(e={data:e});var t,n=this,e=e||{},i=e.data,o=e.read;i&&i.url?o=i:typeof i==B?o={url:i}:M(i)&&(e.server=!1,e.pageMode=0),e=n.options=E({},n.options,e),n._map={},n._prefetch={},n._data=[],n._pristineData=[],n._ranges=[],n._view=[],n._pristineTotal=0,n._destroyed=[],n._pageSize=e.pageSize,n._page=e.page||(e.pageSize?1:void 0),n._sort=r(e.sort),n._filter=a(e.filter),n._total=e.total,n._shouldDetachObservableParents=!0,n._super(),n.transport=ue.create(e,n),N(n.transport.push)&&n.transport.push({pushCreate:j(n._pushCreate,n),pushUpdate:j(n._pushUpdate,n),pushDestroy:j(n._pushDestroy,n)}),n.reader=new se(e.model,e.modelBase,o||e.childrenField),t=n.reader.model||{},n._detachObservableParents(),n._data=n._observe(n._data),n._online=!0,n.bind(["push",Q,I,G,Z,X],e)}},options:{data:null,"interface":{},server:{page:!0,sort:!1,filter:!0},pageMode:{page:"currentPageNo",size:"pageSize"}},parent:H,get:function(e,t){var n,r,i=this._data,t=t||"uid";for(n=0,r=i.length;n<r;n++)if(i[n][t]==e)return i[n]},indexOf:function(e){return h(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var t=this;if(void 0===e){if(t._data)for(var n=0;n<t._data.length;n++)t._data.at(n);return t._data}t._detachObservableParents(),t._data=this._observe(e),t._pristineData=e.slice(0),t._storeData(),t._ranges=[],t.trigger("reset"),t._addRange(t._data),t._total=t._data.length,t._pristineTotal=t._total,t._process(t._data)},_index:function(e){var t=this.skip()||0;return O(e,function(e,n){void 0!=n&&null!=n&&(n._index=t+e+1)}),e},view:function(e){return void 0===e?this._view:void(this._view=this._observeView(e))},_observeView:function(e){var t=this;d(e,t._data,t._ranges,t.reader.model||_,!1);var n=new w(e,t.reader.model);return n.parent=function(){return t.parent()},n},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):e instanceof _?e:new _(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof m||(t=this._createNewModel(t)),this._data.splice(e,0,t),t},add:function(e){return this.insert(this._data.length,e)},remove:function(e){var t=this;return this._eachItem(t._data,function(t){f(t,e)}),e},destroyed:function(){return this._destroyed},_readData:function(e){var t=this.reader.data;return t.call(this.reader,e)},_eachItem:function(e,t){e&&e.length&&t(e)},read:function(e){var t=this,n=t._params(e),r=P();return t._queueRequest(n,function(){var e=t.trigger(G,{type:J});e?(t._dequeueRequest(),r.resolve(e)):(t.trigger(X),t._ranges=[],t.trigger("reset"),t._online&&t.transport.read({data:n,cache:!1,success:function(e){t.success(e),r.resolve()},error:function(){var e=q.call(arguments);t.error.apply(t,e),r.reject.apply(r,e)}}))}),r.promise()},success:function(e){var t=this;t.options;if(t.trigger(Z,{response:e,type:J}),t._online){if(e=t.reader.parse(e),t._handleCustomErrors(e))return void t._dequeueRequest();t._total=t.reader.total(e),e=t._readData(e)}else{e=t._readData(e);for(var n=[],r=0;r<e.length;r++){var i=e[r],a=i.__state__;"destroy"==a?this._destroyed.push(this._createNewModel(i)):n.push(i)}e=n,t._total=e.length}t._pristineTotal=t._total,t._pristineData=e.slice(0),t._detachObservableParents(),t._data=t._observe(e),t._storeData(),t._addRange(t._data),t._process(t._data),t._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;e<this._data.length;e++)this._data[e].parent&&(this._data[e].parent=H)},_storeData:function(e){this.options.server,this.reader.model},_addRange:function(e){var t=this,n=t._skip||0,r=n+e.length;t._ranges.push({start:n,end:r,data:e}),t._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,n){this._dequeueRequest(),this.trigger(Z,{}),this.trigger(Q,{xhr:e,status:t,errorThrown:n})},_pageParam:function(){var e=this.options,t=e.pageMode;if(t){var n={};return n[t.page]=this.page(),n}return{take:this.take(),skip:this.skip(),page:this.page()}},_params:function(e){var t=this,n=t._pageParam(),r=t.options,i=E(n,{pageSize:t.pageSize(),sort:t._sort},e);return r.server||(r.pageSize||(delete i.take,delete i.skip),delete i.page,delete i.pageSize),i},_queueRequest:function(e,t){var n=this;n._requestInProgress?n._pending={callback:j(t,n),options:e}:(n._requestInProgress=!0,n._pending=void 0,t())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){var t=this.reader.errors(e);return!!t&&(t===K?(this.trigger(K),!1):(this.trigger(Q,{status:"customerror",errorThrown:"custom error",errors:t}),!0))},_observe:function(e){var t=this,n=t.reader.model,r=!1;if(t._shouldDetachObservableParents=!0,n&&e.length&&(r=!(e[0]instanceof n)),e instanceof x)t._shouldDetachObservableParents=!1,r&&(e.type=t.reader.model,e.wrapAll(e,e));else{var i=t.pageSize()&&!t.options.server?w:x;e=new i(e,t.reader.model),e.parent=function(){return t.parent()}}return t._changeHandler&&t._data&&t._data instanceof x?t._data.unbind(I,t._changeHandler):t._changeHandler=j(t._change,t),e.bind(I,t._changeHandler)},_change:function(e){var t,n,r=this,i=e?e.action:"";if("remove"===i)for(t=0,n=e.items.length;t<n;t++)e.items[t].isNew&&e.items[t].isNew()||r._destroyed.push(e.items[t]);var a=parseInt(r._total,10);F(r._total)||(a=parseInt(r._pristineTotal,10)),"add"===i?a+=e.items.length:"remove"===i?a-=e.items.length:"itemchange"===i||"sync"===i||r.options.server?"sync"===i&&(a=r._pristineTotal=parseInt(r._total,10)):a=r._pristineTotal,r._total=a,r._process(r._data,e)},_process:function(e,t){var n,r=this,i={};r.options.server===!1&&(i.skip=r._skip,i.take=r._take||r._pageSize,void 0===i.skip&&void 0!==r._page&&void 0!==r._pageSize&&(i.skip=(r._page-1)*r._pageSize)),r.options.server===!1&&(i.sort=r._sort,i.filter=r._filter),n=r._queryProcess(e,i),r.view(r._index(n.data)),void 0===n.total||r.options.server||(r._total=n.total),t=t||{},t.items=t.items||r._view,r.trigger(I,t)},_queryProcess:function(e,t){return ce.process(e,t)},_mergeState:function(e){var t=this,n=t.options.pageMode;return void 0!==e&&(t._pageSize=e.pageSize,t._page=e.page,t._sort=e.sort,t._filter=e.filter,t._skip=e.skip,t._take=e.take,void 0===t._skip&&(t._skip=t.skip(),e.skip=t.skip()),n||void 0!==t._take||void 0===t._pageSize||(t._take=t._pageSize,e.take=t._take),e.sort&&(t._sort=e.sort=r(e.sort)),e.filter&&(t.options.server?(t._filter=a(e.filter),delete e.filter,t._filter&&O(t._filter.filters,function(t,n){e[n.field]=n.value})):t._filter=e.filter=a(e.filter)),n&&(delete e.pageSize,e[n.page]=t._page,e[n.size]=t._pageSize,delete e.page,delete e.take,delete e.skip)),e},query:function(e){var t,n=this.options.server;if(n||(void 0===this._data||0===this._data.length)&&!this._destroyed.length)return this.read(this._mergeState(e));var r=this.trigger(G,{type:J});return r||(this.trigger(X),t=this._queryProcess(this._data,this._mergeState(e)),n||(void 0!==t.total?this._total=t.total:this._total=this._data.length),this.view(this._index(t.data)),this.trigger(Z,{type:J}),this.trigger(I,{items:t.data})),P().resolve(r).promise()},fetch:function(e){var t=this,n=function(n){n!==!0&&N(e)&&e.call(t)};return this._query().then(n)},_query:function(e){var t=this;return t.query(E({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter()},e))},next:function(e){var t=this,n=t.page(),r=t.total();if(e=e||{},n&&!(r&&n+1>t.totalPages()))return t._skip=n*t.take(),n+=1,e.page=n,t._query(e),n},prev:function(e){var t=this,n=t.page();if(e=e||{},n&&1!==n)return t._skip=t._skip-t.take(),n-=1,e.page=n,t._query(e),n},page:function(e){var t,n=this;return void 0!==e?(e=this.options.total===!1?z.max(e,1):z.max(z.min(z.max(e,1),n.totalPages()),1),void n._query({page:e})):(t=n.skip(),void 0!==t?z.round((t||0)/(n.take()||1))+1:void 0)},pageSize:function(e){var t=this;return void 0!==e?void t._query({pageSize:e,page:1}):t.take()},sort:function(e){var t=this;return void 0!==e?void t._query({sort:e}):t._sort},filter:function(e){var t=this;return void 0===e?t._filter:(t._query({filter:e,page:1}),void t.trigger("reset"))},total:function(){return parseInt(this._total||0,10)},totalPages:function(){var e=this,t=e.pageSize()||e.total();return z.ceil((e.total()||0)/t)},skip:function(){var e=this;return void 0===e._skip?void 0!==e._page?(e._page-1)*(e.take()||1):void 0:e._skip},take:function(){return this._take||this._pageSize}});ae.create=function(e){(M(e)||e instanceof x)&&(e={data:e});var t,n,r,i=e||{},a=i.data||[],o=i.fields,s=i.select,c={};if(!a&&o&&!i.transport&&s&&(a=g(s,o)),m&&o&&!i.model){for(t=0,n=o.length;t<n;t++)r=o[t],r.type&&(c[r.field]=r);A(c)||(i.model=E(!0,c,{fields:c}))}return i.data=a,i instanceof ae?i:new ae(i)};var oe=y.extend({ctor:function(){this._store={}},add:function(e,t){void 0!==e&&(this._store[stringify(e)]=t)},find:function(e){return this._store[stringify(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[stringify(e)]}});oe.create=function(e){var t={inmemory:function(){return new oe}};return D(e)&&N(e.find)?e:e===!0?new oe:t[e]()};var se=y.extend({ctor:function(e,t,n){var r,i,a=this,u=j(a.serialize,a),l=j(typeof n===B?C(n):a.data,a),d={},f={},h={},p={},g=!1;a._dataAccessFunction=l,typeof n===B&&(a[n]=C(n)),D(e)&&(r=t?t.define(e):m.define(e)),r&&(a.model=e=r,e.fields&&(O(e.fields,function(e,t){var n;i=e,D(t)&&t.field?i=t.field:typeof t===B&&(i=t),D(t)&&t.from&&(n=t.from),g=g||n&&n!==e||i!==e,f[e]=C(n||i),h[e]=C(e),d[n||i]=e,p[e]=n||i}),g&&(a.serialize=c(u,r,o,h,d,p))),a.data=c(l,r,s,f,d,p))},errors:function(e){return e?e.errors:null},parse:function(e){return e&&e.rows&&0==e.rows.length&&(e.errors=K),e},data:function(e){return e&&void 0!=e.rows?e.rows:e},total:function(e){return e&&void 0!=e.total?e.total:e.length},serialize:function(e){return e}}),ce=y.extend({ctor:function(e){this.data=e||[]},statics:{normalizeFilter:a,filterExpr:function(e){var t,n,r,i,a,o,s=[],c=[],u=[],l={and:" && ",or:" || "},d=e.filters;for(t=0,n=d.length;t<n;t++)r=d[t],a=r.field,o=r.operator,r.filters?(i=ce.filterExpr(r),r=i.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(u.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(c.length+t)+"]"}),u.push.apply(u,i.operators),c.push.apply(c,i.fields)):(typeof a===R?(i="__f["+c.length+"](d)",c.push(a)):i=v.expr(a),typeof o===R?(r="__o["+u.length+"]("+i+", "+fe.quote(r.value)+")",u.push(o)):r=fe[(o||"eq").toLowerCase()](i,r.value,void 0===r.ignoreCase||r.ignoreCase)),s.push(r);return{expression:"("+s.join(l[e.logic])+")",fields:c,operators:u}},process:function(e,t){t=t||{};var n,i=new ce(e),a=r(t.sort||[]),o=t.filterCallback,s=t.filter,c=t.skip,u=t.take;return s&&(i=i.filter(s),o&&(i=o(i)),n=i.toArray().length),a&&(i=i.sort(a)),void 0!==c&&void 0!==u&&(i=i.range(c,u)),{total:n,data:i.toArray()}}},toArray:function(){return this.data},range:function(e,t){return new ce(this.data.slice(e,e+t))},skip:function(e){return new ce(this.data.slice(e))},take:function(e){return new ce(this.data.slice(0,e))},select:function(e){return new ce($(this.data,e))},order:function(e,t){var n={dir:t};return e&&(e.compare?n.compare=e.compare:n.field=e),new ce(this.data.slice(0).sort(he.create(n)))},orderBy:function(e){return this.order(e,"asc")},orderByDescending:function(e){return this.order(e,"desc")},sort:function(e,t,n){var i=r(e,t),a=[],o=i.length,s=0;if(n=n||he,o){for(;s<o;s++)a.push(n.create(i[s]));return this.orderBy({compare:n.combine(a)})}return this},filter:function(e){var t,n,r,i,o,s,c,u,l=this.data,d=[];if(e=a(e),!e||0===e.filters.length)return this;for(i=ce.filterExpr(e),s=i.fields,c=i.operators,o=u=new Function("d, __f, __o","return "+i.expression),(s.length||c.length)&&(u=function(e){return o(e,s,c)}),t=0,r=l.length;t<r;t++)n=l[t],u(n)&&d.push(n);return new ce(d)}}),ue={create:function(e,t){var n,r=e.transport,i=e.read;return n=i?N(r)?r:new de({read:i,dataSource:t}):new le({data:e.data||[]})}},le=y.extend({ctor:function(e){this.data=e.data},read:function(e){var t=[];if(e.take&&e.skip)for(var n=0;n<e.take;n++)t.push(this.data[e.skip+n]);else t=this.data;e.success(t)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),de=y.extend({ctor:function(e){var t,n=this;e=n.options=E({},n.options,e),O(Y,function(t,n){typeof e[n]===B&&(e[n]={url:e[n]})}),n.cache=e.cache?oe.create(e.cache):{find:H,add:H},t=e.parameterMap,N(e.push)&&(n.push=e.push),n.push||(n.push=S),n.parameterMap=N(t)?t:function(e){var n={};return O(e,function(e,r){e in t&&(e=t[e],D(e)&&(r=e.value(r),e=e.key)),n[e]=r}),n}},options:{parameterMap:S},create:function(e){return T(this.setup(e,U))},read:function(e){var t,n,r,i=this,a=i.cache;e=i.setup(e,J),t=e.success||H,n=e.error||H,r=a.find(e.data),void 0!==r?t(r):(e.success=function(n){a.add(e.data,n),t(n)},T(e))},update:function(e){return T(this.setup(e,W))},destroy:function(e){return T(this.setup(e,V))},setup:function(e,t){e=e||{};var n,r=this,i=r.options[t],a=N(i.data)?i.data(e.data):i.data;return e=E(!0,{},i,e),n=E(!0,{},a,e.data),e.data=r.parameterMap(n,t),N(e.url)&&(e.url=e.url(n)),e}}),fe=function(){function e(e){return e.replace(ie,"\\").replace(re,"")}function t(t,n,r,i){var a;return null!=r&&(typeof r===B&&(r=e(r),a=ne.exec(r),a?r=new Date((+a[1])):i?(r="'"+r.toLowerCase()+"'",n="("+n+' || "").toLowerCase()'):r="'"+r+"'"),r.getTime&&(n="("+n+"?"+n+".getTime():"+n+")",r=r.getTime())),n+" "+t+" "+r}return{quote:function(t){return t&&t.getTime?"new Date("+t.getTime()+")":"string"==typeof t?"'"+e(t)+"'":""+t},eq:function(e,n,r){return t("==",e,n,r)},neq:function(e,n,r){return t("!=",e,n,r)},gt:function(e,n,r){return t(">",e,n,r)},gte:function(e,n,r){return t(">=",e,n,r)},lt:function(e,n,r){return t("<",e,n,r)},lte:function(e,n,r){return t("<=",e,n,r)},startswith:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".lastIndexOf('"+n+"', 0) == 0"},endswith:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"', "+t+".length - "+(n||"").length+") >= 0"},contains:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') >= 0"},doesnotcontain:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') == -1"}}}(),he={selector:function(e){return N(e)?e:C(e)},compare:function(e){var t=this.selector(e);return function(e,n){return e=t(e),n=t(n),null==e&&null==n?0:null==e?-1:null==n?1:e.localeCompare?e.localeCompare(n):e>n?1:e<n?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,n){return t(n,e,!0)}:t},combine:function(e){return function(t,n){var r,i,a=e[0](t,n);for(r=1,i=e.length;r<i;r++)a=a||e[r](t,n);return a}}};v.data=v.dataSource=function(e){return e instanceof ae||(e=new ae(e)),e},v.DataSource=ae,t.exports=ae},{"./fly.core":5,"./fly.format":7,"./fly.model":10,"./fly.observable":12}],7:[function(require,module,exports){"use strict";var fly=require("./fly.core"),$=fly.$,objectToString={}.toString,numberRegExp=/^\d*$/,escapeableRegExp=/["\\\x00-\x1f\x7f-\x9f]/g,_meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},formatDate=function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n){var i,a=new RegExp("("+r+")"),o=n[r]+"";a.test(t)&&(i=1==RegExp.$1.length?o:("00"+o).substr(o.length),t=t.replace(RegExp.$1,i))}return t};fly.formatDate=function(e,t){var n,r,i,a="yyyy/MM/dd HH:mm:ss",o=new Date,s=0,c=["yyyyMMddHHmmss","yyyyMMddHHmm","yyyyMMdd","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HHmmss","HH:mm:ss"],u={"y+":o.getFullYear(),"M+":o.getMonth()+1,"d+":o.getDate(),"H+":0,"m+":0,"s+":0};if("[object Date]"===objectToString.call(e))n=e;else if(e)for(r=c.length;s<r;s++){var l=a,d=c[s];if(d.length==e.length){for(i in u){var f=new RegExp("("+i+")"),h=d.search(f),p="";if(h>=0){if(p=e.substr(h,RegExp.$1.length),!numberRegExp.test(p))break}else p=u[i]+"";p=1==p.length?"0"+p:p,l=l.replace(f,p)}try{if(n=new Date(l),!n.getTime())continue;break}catch(g){continue}}}return e=n&&n.getTime&&n.getTime()?n:e,t?formatDate(e,t):e},fly.toJSON=function(e){if("object"==typeof JSON&&JSON.stringify){var t=JSON.stringify(e);return t}var n=typeof e;if(null===e)return"null";if("undefined"!=n){if("number"==n||"boolean"==n)return e+"";if("string"==n)return fly.quoteString(e);if("object"==n){if("function"==typeof e.toJSON)return fly.toJSON(e.toJSON());if(e.constructor===Date)return formatDate(e,"yyyy-MM-ddTHH:mm:ss.SZ");if(e.constructor===Array){for(var r=[],i=0;i<e.length;i++)r.push(fly.toJSON(e[i])||"");return"["+r.join(",")+"]"}var a=[];for(var o in e){var s,n=typeof o;if("number"==n)s='"'+o+'"';else{if("string"!=n)continue;s=fly.quoteString(o)}if("function"!=typeof e[o]){var c=fly.toJSON(e[o]);a.push(s+":"+c)}}return"{"+a.join(", ")+"}"}}},fly.evalJSON=function(src){return src?"string"!=typeof src?src:"object"==typeof JSON&&JSON.parse&&!fly.support.browser.ie?JSON.parse(src):eval("("+src+")"):{}},fly.secureEvalJSON=function(src){if("object"==typeof JSON&&JSON.parse)return JSON.parse(src);var filtered=src;if(filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@"),filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},fly.quoteString=function(e){return e.match(escapeableRegExp)?'"'+e.replace(escapeableRegExp,function(e){var t=_meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'};var format=fly.format=function(e,t){return 1==arguments.length?function(){var t=$.makeArray(arguments);return t.unshift(e),format.format.apply(this,t)}:(arguments.length>2&&t.constructor!=Array&&(t=$.makeArray(arguments).slice(1)),t.constructor!=Array&&(t=[t]),$.each(t,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),n)}),e)};module.exports=format},{"./fly.core":5}],8:[function(e,t,n){"use strict";function r(e){var t=!!e&&"length"in e&&e.length,n=o.type(e);return"function"!==n&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t){for(var n,r,i,a,s,c=t.createDocumentFragment(),u=[],l=0,d=e.length;l<d;l++)if(n=e[l],n||0===n)if("object"===o.type(n))o.merge(u,n.nodeType?[n]:n);else if(y.test(n)){for(r=r||c.appendChild(t.createElement("div")),i=(b.exec(n)||["",""])[1].toLowerCase(),a=_[i]||_._default,r.innerHTML=a[1]+o.htmlPrefilter(n)+a[2],s=a[0];s--;)r=r.lastChild;o.merge(u,r.childNodes),r=c.firstChild,r.textContent=""}else u.push(t.createTextNode(n));for(c=t.createDocumentFragment(),l=0;n=u[l++];)c.appendChild(n);return c}var a=e("./fly.support"),o=null,s=[],c={},u=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=s.indexOf,d=s.slice,f=s.push,h=s.concat,p={}.toString,g={}.hasOwnProperty;o=function(e){return new o.fn.init(e)},l||(l=function(e,t){var n=-1;t=1*t||0;for(var r=0,i=this.length;r<i;r++)if(r>=t&&this[r]===e){n=r;break}return n}),o.fn=o.prototype={constructor:o,length:0,pushStack:function(e){var t=o.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return o.each(this,e)},map:function(e){return this.pushStack(o.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s.push,sort:s.sort,splice:s.splice},o.fn.init=function(e){return o.parseHTML(e,document)},o.extend=function(){var e,t,n,r,i,a,s=arguments[0]||{},c=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[c]||{},c++),"object"==typeof s||o.isFunction(s)||(s={}),c===u&&(s=this,c--);c<u;c++)if(null!=(e=arguments[c]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(o.isPlainObject(r)||(i=o.isArray(r)))?(i?(i=!1,a=n&&o.isArray(n)?n:[]):a=n&&o.isPlainObject(n)?n:{},s[t]=o.extend(l,a,r)):void 0!==r&&(s[t]=r));return s},o.extend({noop:function(){},isFunction:function(e){return"function"===o.type(e)},isArray:Array.isArray||function(e){return"array"===o.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=o.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){return"object"===o.type(e)&&!e.nodeType&&!o.isWindow(e)&&!(e.constructor&&!g.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[p.call(e)]||"object":typeof e},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(u,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?o.merge(n,"string"==typeof e?[e]:e):f.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],a=0,o=e.length,s=!n;a<o;a++)r=!t(e[a],a),r!==s&&i.push(e[a]);return i},map:function(e,t,n){var i,a,o=0,s=[];if(r(e))for(i=e.length;o<i;o++)a=t(e[o],o,n),null!=a&&s.push(a);else for(o in e)a=t(e[o],o,n),null!=a&&s.push(a);return h.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),o.isFunction(e))return r=d.call(arguments,2),i=function(){return e.apply(t||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||o.guid++,i},htmlPrefilter:function(e){return e.replace(v,"<$1></$2>")},trigger:function(e,t,n){return e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0})),this},support:{}});var v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,m=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;o.parseHTML=function(e){var t=a.createHTMLDocument?document.implementation.createHTMLDocument(""):document,n=m.exec(e);return n?[t.createElement(n[1])]:(n=i([e],t),o.merge([],n.childNodes))},o.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var y=/<|&#?\w+;/,b=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,_={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};_.optgroup=_.option,_.tbody=_.tfoot=_.colgroup=_.caption=_.thead,_.th=_.td,t.exports=o},{"./fly.support":15}],9:[function(e,t,n){var r=e("./fly.core");e("./fly.ajax"),e("./fly.binder"),e("./fly.calculate"),e("./fly.component"),e("./fly.data"),e("./fly.format"),e("./fly.jquery"),e("./fly.model"),e("./fly.ndata"),e("./fly.observable"),e("./fly.require"),e("./fly.router"),e("./fly.support"),e("./fly.template"),e("./fly.utils"),r.version="1.2.1",window.fly=r,t.exports=r},{"./fly.ajax":1,"./fly.binder":2,"./fly.calculate":3,"./fly.component":4,"./fly.core":5,"./fly.data":6,"./fly.format":7,"./fly.jquery":8,"./fly.model":10,"./fly.ndata":11,"./fly.observable":12,"./fly.require":13,"./fly.router":14,"./fly.support":15,"./fly.template":16,"./fly.utils":17}],10:[function(e,t,n){"use strict";function r(e,t){var n,r;for(r in e){if(n=e[r],f(n)&&n.field&&n.field===t)return n;if(n===t)return n}return null}function i(e,t){if(e===t)return!0;var n,r=c.type(e),a=c.type(t);if(r!==a)return!1;if("date"===r)return e.getTime()===t.getTime();if("object"!==r&&"array"!==r)return!1;for(n in e)if(!i(e[n],t[n]))return!1;return!0}var a=e("./fly.core"),o=(e("./fly.observable"),e("./fly.format")),s=a.ObservableObject,c=a.$,u=c.extend,l=c.isArray,d=c.isEmptyObject,f=c.isPlainObject,h="string",p={number:function(e){return parseFloat(e)},date:function(e){return o.parseDate(e)},"boolean":function(e){return typeof e===h?"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return null!=e?e+"":e},"default":function(e){return e}},g={string:"",number:0,date:new Date,"boolean":!1,"default":""},v=s.extend({ctor:function(e){var t=this,n=t._initializers;if((!e||d(e))&&(e=u({},t.defaults,e),n))for(var r=0;r<n.length;r++){var i=n[r];e[i]=t.defaults[i]()}t._super(e),t.dirty=!1,t.idField&&(t.id=t.get(t.idField),void 0===t.id&&(t.id=t._defaultId))},shouldSerialize:function(e){return this._super.shouldSerialize(e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"_accessors"!==e},_parse:function(e,t){var n,i=this,a=e,o=i.fields||{};return e=o[e],e||(e=r(o,a)),e&&(n=e.parse,!n&&e.type&&(n=p[e.type.toLowerCase()])),n?n(t):t},_notifyChange:function(e){var t=e.action;"add"!=t&&"remove"!=t||(this.dirty=!0)},editable:function(e){return e=(this.fields||{})[e],!e||e.editable!==!1},set:function(e,t,n){var r=this;r.editable(e)&&(t=r._parse(e,t),i(t,r.get(e))||(r.dirty=!0,s.fn.set.call(this,e,t,n)))},accept:function(e){var t,n=this,r=function(){return n};for(t in e){var i=e[t];"_"!=t.charAt(0)&&(i=n.wrap(e[t],t,r)),n._set(t,i)}n.idField&&(n.id=n.get(n.idField)),n.dirty=!1},isNew:function(){return this.id===this._defaultId}});v.define=function(e,t){void 0===t&&(t=e,e=v);var n,r,i,a,o,s,c,d,f=u({defaults:{}},t),m={},y=f.id,b=[];if(y&&(f.idField=y),f.id&&delete f.id,y&&(f.defaults[y]=f._defaultId=""),l(f.fields)){for(s=0,c=f.fields.length;s<c;s++)i=f.fields[s],typeof i===h?m[i]={}:i.field&&(m[i.field]=i);f.fields=m}for(r in f.fields)i=f.fields[r],a=i.type||"default",o=null,d=r,r=typeof i.field===h?i.field:r,i.nullable||(o=f.defaults[d!==r?d:r]=void 0!==i.defaultValue?i.defaultValue:g[a.toLowerCase()],"function"==typeof o&&b.push(r)),t.id===r&&(f._defaultId=o),f.defaults[d!==r?d:r]=o,i.parse=i.parse||p[a];return b.length>0&&(f._initializers=b),n=e.extend(f),n.define=function(e){return v.define(n,e)},f.fields&&(n.fields=f.fields,n.idField=f.idField),n},a.Model=v,t.exports=v},{"./fly.core":5,"./fly.format":7,"./fly.observable":12}],11:[function(e,t,n){"use strict";function r(e){return function(){var t=this._data,n=o.fn[e].apply(this,slice.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),n}}var i=e("./fly.core"),a=e("./fly.model"),o=e("./fly.data"),s=i.$.Deferred,c="string",u="change",l="error",d=o.extend({ctor:function(e){if(e){var t=f.define({children:e});this._super(extend(!0,{},{modelBase:t,model:t},e)),this._attachBubbleHandlers()}},_attachBubbleHandlers:function(){var e=this;e._data.bind(l,function(t){e.trigger(l,t)})},remove:function(e){var t,n=e.parentNode(),r=this;return n&&n._initChildren&&(r=n.children),t=r._super.remove(e),n&&!r.data().length&&(n.hasChildren=!1),t},success:r("success"),data:r("data"),insert:function(e,t){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),this._super.insert.call(this,e,t)},_find:function(e,t,n){var r,i,a,o,s;if(a=this._super[e].call(this,t,n))return a;if(o=this._data)for(r=0,i=o.length;r<i;r++)if(s=o[r].children,s instanceof d&&(a=s[e](t,n)))return a},get:function(e,t){return this._find("get",e,t)}}),f=a.define({idField:"id",ctor:function(e){if(e){var t=this,n=t.hasChildren||e&&e.hasChildren,r="items",a={};e.children instanceof Array&&(e.items=e.children,delete e.children),t._super(e),typeof t.children===c&&"children"!=t.children&&(r=t.children),a={childrenField:r,model:{hasChildren:n,id:t.idField,fields:t.fields}},typeof t.children!==c&&extend(a,t.children),a.data=e,n||(n=a.childrenField),typeof n===c&&(n=i.getter(n)),isFunction(n)&&(t.hasChildren=!!n.call(t,t)),t._childrenOptions=a,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e[r]&&!e._loaded)}},_initChildren:function(){var e,t,n,r=this;r.children instanceof d||(e=r.children=new d(r._childrenOptions),t=e.transport,n=t.parameterMap,t.parameterMap=function(e,t){return e[r.idField||"id"]=r.id,n&&(e=n(e,t)),e},e.parent=function(){return r},e.bind(u,function(e){e.node=e.node||r,r.trigger(u,e)}),e.bind(l,function(e){var t=r.parent();t&&(e.node=e.node||r,t.trigger(l,e))}),r._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.childrenField;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var e,t,n={},r="_query";return this.hasChildren?(this._initChildren(),
e=this.children,n[this.idField||"id"]=this.id,this._loaded||(e._data=void 0,r="read"),e.one(u,proxy(this._childrenLoaded,this)),t=e[r](n)):this.loaded(!0),t||s().resolve().promise()},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return void 0===e?this._loaded:void(this._loaded=e)},shouldSerialize:function(e){return this._super.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}});i.ndata=i.nodeDataSource=function(e){return e instanceof d||(e=new d(e)),e},i.NodeDataSource=d,t.exports=d},{"./fly.core":5,"./fly.data":6,"./fly.model":10}],12:[function(e,t,n){"use strict";function r(e,t,n,r){return function(i){var a,o={};for(a in i)o[a]=i[a];r?o.field=n+"."+i.field:o.field=n,t==h&&e._notifyChange&&e._notifyChange(o),e.trigger(t,o)}}var i=e("./fly.core"),a=i.Class,o=i.$,s=o.proxy,c=o.noop,u=[].slice,l={}.toString,d="function",f="string",h="change",p="remove",g="add",v="get",m="[object Object]",y="[object Array]",b=a.extend({ctor:function(){this._events={}},bind:function(e,t,n){var r,i,a,o,s=this,c=0,u=typeof t===d,l=typeof e===f?[e]:e,h=l.length;if(void 0===t){for(r in e)s.bind(r,e[r]);return s}for(;c<h;c++)e=l[c],o=u?t:t[e],o&&(n&&(a=o,o=function(){s.unbind(e,o),a.apply(s,arguments)},o.original=a),i=s._events[e]=s._events[e]||[],i.push(o));return s},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){for(var n,r,i=this,a=0,o=typeof t===d,s=typeof e===f?[e]:e,c=s.length;a<c;a++)e=s[a],r=o?t:t[e],r&&(n=i._events[e]=i._events[e]||[],n.unshift(r));return i},trigger:function(e,t){var n,r,i=this,a=i._events[e];if(a){for(t=t||{},t.sender=i,t._defaultPrevented=!1,t.preventDefault=function(){this._defaultPrevented=!0},t.isDefaultPrevented=function(){return this._defaultPrevented===!0},a=a.slice(),n=0,r=a.length;n<r;n++)a[n].call(i,t);return t._defaultPrevented===!0}return!1},unbind:function(e,t){var n,r=this,i=r._events[e];if(void 0===e)r._events={};else if(i)if(t)for(n=i.length-1;n>=0;n--)i[n]!==t&&i[n].original!==t||i.splice(n,1);else r._events[e]=[];return r}}),_=b.extend({ctor:function(e){var t,n,r=this,a=function(){return r};if(void 0!==e){r._super();for(n in e)t=e[n],"object"==typeof t&&t&&!t.getTime&&"_"!=n.charAt(0)&&(t=r.wrap(t,n,a)),r[n]=t;r.uid=i.guid()}},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_events"!==e&&"_super"!==e&&typeof this[e]!==d&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(e){var t,n,r={};for(n in this)this.shouldSerialize(n,e)&&(t=this[n],(t instanceof _||t instanceof x)&&(t=t.toJSON(e)),r[n]=t);return r},get:function(e){var t,n=this;return n.trigger(v,{field:e}),t="this"===e?n:i.getter(e,!0)(n)},_set:function(e,t){var n=this,r=e.indexOf(".")>=0;if(r)for(var a=e.split("."),o="";a.length>1;){o+=a.shift();var s=i.getter(o,!0)(n);if(s instanceof _)return s.set(a.join("."),t),r;o+="."}return i.setter(e)(n,t),r},set:function(e,t){var n=this,r=e.indexOf(".")>=0,a=i.getter(e,!0)(n);a!==t&&(n.trigger("set",{field:e,value:t})||(r||(t=n.wrap(t,e,function(){return n})),(!n._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)&&n.trigger(h,{field:e})))},parent:c,wrap:function(e,t,n){var a=this,o=l.call(e);if(null!=e&&(o===m||o===y)){var s=e instanceof x,c=e instanceof i.DataSource;o!==m||c||s?(o===y||s||c)&&(s||c||(e=new x(e)),e.parent()!=n()&&e.bind(h,r(a,h,t,!1))):(e instanceof _||(e=new _(e)),e.parent()!=n()&&(e.bind(v,r(a,v,t,!0)),e.bind(h,r(a,h,t,!0)))),e.parent=n}return e}}),x=b.extend({ctor:function(e,t){var n=this;e&&(n.type=t||_,n._super(),n.length=e.length,n.wrapAll(e,n))},at:function(e){return this[e]},toJSON:function(e){var t,n,r=this.length,i=new Array(r);for(t=0;t<r;t++)n=this[t],n instanceof _&&(n=n.toJSON(e)),i[t]=n;return i},parent:c,wrapAll:function(e,t){var n,r,i=this,a=function(){return i};for(t=t||[],n=0,r=e.length;n<r;n++)t[n]=i.wrap(e[n],a);return t},wrap:function(e,t){var n,r=this;return null!==e&&l.call(e)===m&&(n=e instanceof r.type||e instanceof i.Model,n||(e=e instanceof _?e.toJSON():e,e=new r.type(e)),e.parent=t,e.bind(h,function(e){r.trigger(h,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})})),e},push:function(){var e,t=this.length,n=this.wrapAll(arguments);return e=[].push.apply(this,n),this.trigger(h,{action:g,index:t,items:n}),e},concat:function(e){var t,n=this.length,r=this.wrapAll(e);return t=[].push.apply(this,r),this.trigger(h,{action:g,index:n,items:r}),t},slice:u,sort:[].sort,join:[].join,pop:function(){var e=this.length,t=[].pop.apply(this);return e&&this.trigger(h,{action:p,index:e-1,items:[t]}),t},splice:function(e,t,n){var r,i,a,o=this.wrapAll(u.call(arguments,2));if(r=[].splice.apply(this,[e,t].concat(o)),r.length)for(this.trigger(h,{action:p,index:e,items:r}),i=0,a=r.length;i<a;i++)r[i]&&r[i].children&&r[i].unbind(h);return n&&this.trigger(h,{action:g,index:e,items:o}),r},shift:function(){var e=this.length,t=[].shift.apply(this);return e&&this.trigger(h,{action:p,index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=[].unshift.apply(this,t),this.trigger(h,{action:g,index:0,items:t}),e},indexOf:function(e){var t,n,r=this;for(t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1},forEach:function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)},map:function(e){for(var t=0,n=[],r=this.length;t<r;t++)n[t]=e(this[t],t,this);return n},filter:function(e){for(var t,n=0,r=[],i=this.length;n<i;n++)t=this[n],e(t,n,this)&&(r[r.length]=t);return r},find:function(e){for(var t,n=0,r=this.length;n<r;n++)if(t=this[n],e(t,n,this))return t},every:function(e){for(var t,n=0,r=this.length;n<r;n++)if(t=this[n],!e(t,n,this))return!1;return!0},some:function(e){for(var t,n=0,r=this.length;n<r;n++)if(t=this[n],e(t,n,this))return!0;return!1},remove:function(e){var t=this.indexOf(e);t!==-1&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}}),w=x.extend({ctor:function(e,t){this.type=t||_;for(var n=0;n<e.length;n++)this[n]=e[n];this.length=n,this._parent=s(function(){return this},this)},at:function(e){var t=this[e];return t instanceof this.type?t.parent=this._parent:t=this[e]=this.wrap(t,this._parent),t}});i.Observable=b,i.ObservableObject=_,i.ObservableArray=x,i.LazyObservableArray=w,i.observable=function(e){return e instanceof _||(e=new _(e)),e},t.exports=b},{"./fly.core":5}],13:[function(e,t,n){"use strict";function r(e){return e=e.slice(),function(){s(e,function(e){for(e.loaded=!0;e.onload.length;){var t=e.onload.shift();t.call(e)}})}}function i(e){var t=v.alias(e),n=v.get(t);if("js"===u(t)){if(!n)throw new Error('failed to _require "'+e+'"');if(!n.exports){if("function"!==o(n.factory))throw new Error('failed to _require "'+e+'"');try{n.factory.call(v,i,n.exports={},n)}catch(r){throw r.id=t,v.traceback=r}delete n.factory}return n.exports}}function a(e){var t=v.alias(e),n=v.get(t);if("css"===u(t)){if(!n)throw new Error('failed to _require "'+e+'"');if(!n.parsed){if("string"!==o(n.rawCSS))throw new Error('failed to _require "'+e+'"');var r=document.createElement("style");p.appendChild(r),r.appendChild(document.createTextNode(n.rawCSS)),delete n.rawCSS,n.parsed=!0}}}function o(e){var t;return null==e?t=String(e):(t=Object.prototype.toString.call(e).toLowerCase(),t=t.substring(8,t.length-1)),t}function s(e,t,n){if("object"==typeof e){var r,i,a=o(e);if(n=n||e,"array"===a||"arguments"===a||"nodelist"===a){for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)===!1)return}else for(r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)===!1)return}}function c(e){function t(){}return t.prototype=e,new t}function u(e){var t="js";return e.replace(m,function(e,n){t=n}),"js"!==t&&"css"!==t&&(t="unknown"),t}var l=e("./fly.core"),d=l.win,f=Array.prototype.slice,h=d.localStorage,p=document.head||document.getElementsByTagName("head")[0],g={},v=c(g),m=/\.(js|css)(?=[?&,]|$)/i;v.options={prefix:"__FLY__",cache:!1,hash:"",timeout:15,alias:{},deps:{},urlPattern:null,comboPattern:null,combo:!1,maxUrlLength:2e3},v.cache={},v.traceback=null,g.config=function(e){var t=v.options;s(e,function(e,n){var r=t[n],i=o(r);"object"===i?s(e,function(e,t){r[t]=e}):("array"===i&&(e=r.concat(e)),t[n]=e)});try{t.hash!==h.getItem("__SCRAT_HASH__")&&(v.clean(),h.setItem("__SCRAT_HASH__",t.hash)),t.cache=t.cache&&!!t.hash}catch(n){t.cache=!1}return/\bscrat=([\w,]+)\b/.test(location.search)&&s(RegExp.$1.split(","),function(e){switch(e){case"nocache":v.clean(),t.cache=!1;break;case"nocombo":t.combo=!1}}),t},g.async=function(e,t){"string"===o(e)&&(e=[e]);var n=new v.Reactor(e,function(){var n=[];s(e,function(e){n.push(i(e))}),t&&t.apply(v,n)});n.run()},g.define=function(e,t){var n=v.options,r=v.cache[e];r?r.factory=t:v.cache[e]={id:e,loaded:!0,factory:t},n.cache&&h.setItem(n.prefix+e,t.toString())},g.defineCSS=function(e,t,n){var r=v.options;v.cache[e]={id:e,loaded:!0,rawCSS:t},n!==!1&&a(e),r.cache&&h.setItem(r.prefix+e,t)},g.get=function(e){var t,n=v.options,r=u(e),i=v.cache[e];return i?i:n.cache&&(t=h.getItem(n.prefix+e))?("js"===r?window.eval.call(window,'define("'+e+'",'+t+")"):"css"===r&&v.defineCSS(e,t,!1),v.cache[e].loaded=!1,v.cache[e]):null},g.clean=function(){try{s(h,function(e,t){~t.indexOf(v.options.prefix)&&h.removeItem(t)}),h.removeItem("__SCRAT_HASH__")}catch(e){}},g.alias=function(e,t){var n=v.options.alias;if(arguments.length>1)return n[e]=t,v.alias(e);for(;n[e]&&e!==n[e];)switch(o(n[e])){case"function":e=n[e](e);break;case"string":e=n[e]}return e},g.load=function(e,t){"function"===o(t)&&(t={onload:t});var n,r,i,a=t.type||u(e),s="js"===a,c="css"===a,l=+navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536,d=document.createElement(s?"script":"link"),f="onload"in d;d.onerror=function(){throw clearTimeout(n),clearInterval(r),new Error("Error loading url: "+e)},n=setTimeout(d.onerror,1e3*(t.timeout||15)),s?(d.type="text/javascript",d.async="async",d.src=e):(c&&(d.type="text/css",d.rel="stylesheet"),d.href=e),d.onload=d.onreadystatechange=function(){!d||d.readyState&&!/loaded|complete/.test(d.readyState)||(clearTimeout(n),d.onload=d.onreadystatechange=null,s&&p&&d.parentNode&&p.removeChild(d),t.onload&&t.onload.call(v),d=null)},p.appendChild(d),c?!l&&f||(i=0,r=setInterval(function(){return(i+=20)>t.timeout||!d?(clearTimeout(n),void clearInterval(r)):void(d.sheet&&(clearTimeout(n),clearInterval(r),t.onload&&t.onload.call(v),d=null))},20)):s||t.onload&&t.onload.call(v)},g.Reactor=function(e,t){this.length=0,this.depends={},this.depended={},this.push.apply(this,e),this.callback=t};var y=v.Reactor.prototype;y.push=function(){function e(){0===--t.length&&t.callback()}var t=this,n=f.call(arguments);s(n,function(n){var r=v.alias(n),i=u(r),o=v.get(r);if(o){if(t.depended[r]||o.loaded)return}else o=v.cache[r]={id:r,loaded:!1,onload:[]};t.depended[r]=1,v.options.deps[r]?t.push.apply(t,v.options.deps[r]):t.push.apply(t),"css"===i&&!o.rawCSS&&!o.parsed||"js"===i&&!o.factory&&!o.exports?((t.depends[i]||(t.depends[i]=[])).push(o),++t.length,o.onload.push(e)):o.rawCSS&&a(r)})},y.run=function(){var e=this,t=v.options,n=t.combo,i=this.depends;return 0===this.length?this.callback():(s(i.unknown,function(t){v.load(e.genUrl(t.id),function(){t.loaded=!0})}),void(n?s(["css","js"],function(n){var a=0,o=[],c=[];s(i[n],function(s,u){a+s.id.length<t.maxUrlLength?(a+=s.id.length,o.push(s.id),c.push(s)):(v.load(e.genUrl(o),r(c)),a=s.id.length,o=[s.id],c=[s]),u===i[n].length-1&&v.load(e.genUrl(o),r(c))})}):s((i.css||[]).concat(i.js||[]),function(t){v.load(e.genUrl(t.id),function(){for(t.loaded=!0;t.onload.length;){var e=t.onload.shift();e.call(t)}})})))},y.genUrl=function(e){"string"===o(e)&&(e=[e]);var t=v.options,n=t.combo&&t.comboPattern||t.urlPattern;switch(t.cache&&"css"===u(e[0])&&s(e,function(t,n){e[n]=t+".js"}),o(n)){case"string":n=n.replace("%s",e.join(","));break;case"function":n=n(e);break;default:n=e.join(",")}return n+(~n.indexOf("?")?"&":"?")+t.hash},s(g,function(e,t){i[t]=e}),l.require=v,l.define=v.define,l.defineCSS=v.defineCSS,d.require||(d.require=v,d.define=v.define,d.defineCSS=v.defineCSS),t.exports=v},{"./fly.core":5}],14:[function(e,t,n){function r(e){return e?"#!":"#"}function i(e){var t=w.href;return"#!"===e&&t.indexOf("#")>-1&&t.indexOf("#!")<0?null:t.split(e)[1]||""}function a(e,t){return 0===t.indexOf(e)?t.substr(e.length).replace(/\/\//g,"/"):t}function o(e){return e.replace(/^(#)?/,"#")}function s(e){return e.replace(/^(#(!)?)?/,"#!")}function c(e,t){return t?e:"([^/]+)"}function u(e,t){return new RegExp("^"+e.replace(E,"\\$&").replace(O,"(?:$1)?").replace($,c).replace(j,"(.*?)")+"$",t?"i":"")}function l(e){return e.replace(/(\?.*)|(#.*)/g,"")}var d=e("./fly.core"),f=e("./fly.observable"),h=(e("./fly.utils"),"change"),p="back",g="same",v="init",m="routeMissing",y=d.$,b=d.Class,_=d.support,x=d.win,w=x.location,S=x.history,C=50,k=d.support.browser.ie,T=/^#*/,O=/\((.*?)\)/g,$=/(\(\?)?:\w+/g,j=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g,A=x.document,D=d.parseQueryStringParams,N=b.extend({ctor:function(){},back:function(){k?setTimeout(function(){S.back()}):S.back()},forward:function(){k?setTimeout(function(){S.forward()}):S.forward()},length:function(){return S.length},replaceLocation:function(e){w.replace(e)}}),F=N.extend({ctor:function(e){this.root=e},navigate:function(e){S.pushState({},A.title,absoluteURL(e,this.root))},replace:function(e){S.replaceState({},A.title,absoluteURL(e,this.root))},normalize:function(e){return a(this.root,e)},current:function(){var e=w.pathname;return w.search&&(e+=w.search),a(this.root,e)},change:function(e){},stop:function(){},normalizeCurrent:function(e){var t,n=e.root,a=w.pathname,o=i(r(e.hashBang));n===a+"/"&&(t=n),n===a&&o&&(t=absoluteURL(o.replace(T,""),n)),t&&S.pushState({},A.title,t)}}),M=N.extend({ctor:function(e){this._id=d.guid(),this.prefix=r(e),this.fix=e?s:o},navigate:function(e){w.hash=this.fix(e)},replace:function(e){this.replaceLocation(this.fix(e))},normalize:function(e){return e.indexOf(this.prefix)<0?e:e.split(this.prefix)[1]},change:function(e){_.hashChange?d.on(x,"hashchange."+this._id,e):this._interval=setInterval(e,C)},stop:function(){d.off(x,"hashchange."+this._id,callback),clearInterval(this._interval)},current:function(){return i(this.prefix)},normalizeCurrent:function(e){var t=w.pathname,n=e.root;return!(!e.pushState||n===t)&&(this.replaceLocation(n+this.prefix+a(n,t)),!0)}}),L=f.extend({start:function(e){if(e=e||{},this.bind([h,p,g],e),!this._started){this._started=!0,e.root=e.root||"/";var t,n=this.createAdapter(e);n.normalizeCurrent(e)||(t=n.current(),y.extend(this,{adapter:n,root:e.root,historyLength:n.length(),current:t,locations:[t]}),n.change(y.proxy(this,"_checkUrl")))}},createAdapter:function(e){return _.pushState&&e.pushState?new F(e.root):new M(e.hashBang)},stop:function(){this._started&&(this.adapter.stop(),this.unbind(h),this._started=!1)},change:function(e){this.bind(h,e)},replace:function(e,t){this._navigate(e,t,function(t){t.replace(e),this.locations[this.locations.length-1]=this.current})},navigate:function(e,t){return"#:back"===e?(this.backCalled=!0,void this.adapter.back()):void this._navigate(e,t,function(t){t.navigate(e),this.locations.push(this.current)})},_navigate:function(e,t,n){var r=this.adapter;return e=r.normalize(e),this.current===e||this.current===decodeURIComponent(e)?void this.trigger(g):void(!t&&this.trigger(h,{url:e})||(this.current=e,n.call(this,r),this.historyLength=r.length()))},_checkUrl:function(){var e=this.adapter,t=e.current(),n=e.length(),r=this.historyLength===n,i=t===this.locations[this.locations.length-2]&&r,a=this.backCalled,o=this.current;return null===t||this.current===t||this.current===decodeURIComponent(t)||(this.historyLength=n,this.backCalled=!1,this.current=t,i&&this.trigger("back",{url:o,to:t})?(e.forward(),void(this.current=o)):this.trigger(h,{url:t,backButtonPressed:!a})?(i?e.forward():(e.back(),this.historyLength--),void(this.current=o)):void(i?this.locations.pop():this.locations.push(t)))}}),H=b.extend({ctor:function(e,t,n){e instanceof RegExp||(e=u(e,n)),this.route=e,this._callback=t},callback:function(e){var t,n,r=0,i=D(e);for(e=l(e),t=this.route.exec(e).slice(1),n=t.length;r<n;r++)"undefined"!=typeof t[r]&&(t[r]=decodeURIComponent(t[r]));t.push(i),this._callback.apply(null,t)},worksWith:function(e){return!!this.route.test(l(e))&&(this.callback(e),!0)}}),P=f.extend({ctor:function(e){e||(e={}),this._super(),this.routes=[],this.pushState=e.pushState,this.hashBang=e.hashBang,this.root=e.root,this.ignoreCase=e.ignoreCase!==!1,this.bind([v,m,h,g],e)},destroy:function(){S.unbind(h,this._urlChangedProxy),S.unbind(g,this._sameProxy),S.unbind(p,this._backProxy),this.unbind()},start:function(){var e=this,t=function(){e._same()},n=function(t){e._back(t)},r=function(t){e._urlChanged(t)};S.start({same:t,change:r,back:n,pushState:e.pushState,hashBang:e.hashBang,root:e.root});var i={url:S.current||"/",preventDefault:y.noop};e.trigger(v,i)||e._urlChanged(i),this._urlChangedProxy=r,this._backProxy=n},route:function(e,t){this.routes.push(new H(e,t,this.ignoreCase))},navigate:function(e,t){d.history.navigate(e,t)},replace:function(e,t){d.history.replace(e,t)},_back:function(e){this.trigger(p,{url:e.url,to:e.to})&&e.preventDefault()},_same:function(e){this.trigger(g)},_urlChanged:function(e){var t=e.url;if(t||(t="/"),this.trigger(h,{url:e.url,params:D(e.url),backButtonPressed:e.backButtonPressed}))return void e.preventDefault();for(var n,r=0,i=this.routes,a=i.length;r<a;r++)if(n=i[r],n.worksWith(t))return;this.trigger(m,{url:t,params:D(t),backButtonPressed:e.backButtonPressed})&&e.preventDefault()}});L.HistoryAdapter=N,L.HashAdapter=M,L.PushStateAdapter=F,d.History=L,d.Router=P;var S=d.history=new L;t.exports=P},{"./fly.core":5,"./fly.observable":12,"./fly.utils":17}],15:[function(e,t,n){(function(e){"use strict";var n,r={},i="string",a=document.createDocumentFragment(),o=a.appendChild(document.createElement("div")),s=document.createElement("input"),c=r.transitions=!1,u=r.transforms=!1;s.setAttribute("type","radio"),s.setAttribute("checked","checked"),s.setAttribute("name","t"),o.appendChild(s),r.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,r.html5=function(){var e,t=document.createElement("input");return t.setAttribute("type","range"),e="text"!=t.type,t=null,e}(),r.touch="ontouchstart"in document||e.DocumentTouch&&document instanceof e.DocumentTouch||e.navigator.msPointerEnabled&&e.navigator.msMaxTouchPoints>0||e.navigator.pointerEnabled&&e.navigator.maxTouchPoints>0||!1,r.browser=function(){var e={},t=navigator.userAgent;return t.indexOf("Opera")>-1?e.opera=1:t.indexOf("Firefox")>-1?e.firefox=1:t.indexOf("Chrome")>-1?e.chrome=1:t.indexOf("Safari")>-1?e.safari=1:(window.ActiveXObject||"ActiveXObject"in window)&&(new RegExp("MSIE (\\d+\\.\\d+);").test(t),e.ie=parseInt(RegExp.$1||11)),e}(),r.os=function(){var e={},t=navigator.userAgent,n=[function(){var n=t.match(/(MicroMessenger)\/([\d\.]+)/i);return n&&(e.wechat={version:n[2].replace(/_/g,".")}),!1},function(){var n=t.match(/(Android);?[\s\/]+([\d.]+)?/);return n&&(e.android=!0,e.version=n[2],e.isBadAndroid=!/Chrome\/\d/.test(window.navigator.appVersion)),e.android===!0},function(){var n=t.match(/(iPhone\sOS)\s([\d_]+)/);if(n)e.ios=e.iphone=!0,e.version=n[2].replace(/_/g,".");else{var r=t.match(/(iPad).*OS\s([\d_]+)/);r&&(e.ios=e.ipad=!0,e.version=r[2].replace(/_/g,"."))}return e.ios===!0}];return[].every.call(n,function(e){return!e.call()}),e}(),r.scrollbar=function(e){var t,r;return isNaN(n)||e?(t=document.createElement("div"),t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),r=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),t=null,r):n},r.createHTMLDocument=function(){var e;return!!document.implementation.createHTMLDocument&&(e=document.implementation.createHTMLDocument("").body,e.innerHTML="<form></form><form></form>",2===e.childNodes.length)}(),r.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,o.innerHTML="<textarea>x</textarea>",r.noCloneChecked=!!o.cloneNode(!0).lastChild.defaultValue,r.dataset=!!o.dataset,r.deleteExpando=function(){var e=document.createElement("a");try{delete e.test}catch(t){return e=null,!1}return e=null,!0}();for(var l=0,d=["Moz","webkit","O","ms"];l<d.length;l++){var f=d[l].toString(),h=typeof o.style[f+"Transition"]===i;if(h||typeof o.style[f+"Transform"]===i){var p=f.toLowerCase();u={css:"ms"!=p?"-"+p+"-":"",prefix:f,event:"o"===p||"webkit"===p?p:""},h&&(c=u,c.event=c.event?c.event+"TransitionEnd":"transitionend");break}}o=null,r.transforms=u,r.transitions=c,t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){"use strict";function r(e){return e.replace(u,"").replace(l,",").replace(d,"").replace(f,"").replace(h,"").split(p)}function i(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function a(e,t){function n(e){return f+=e.split(/\n/).length-1,l&&(e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),e&&(e=g[1]+i(e)+g[2]+"\n"),e}function a(e){var n=f;if(u?e=u(e,t):o&&(e=e.replace(/\n/g,function(){return f++,"$line="+f+";"})),0===e.indexOf("=")){var i=d&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),i){var a=e.replace(/\s*\([^\)]+\)/,"");C[a]||/^(include|print)$/.test(a)||(e="$escape("+e+(e&&", $data")+")")}else e="$string("+e+")";e=g[1]+e+g[2]}return o&&(e="$line="+n+";"+e),$(r(e),function(e){if(e&&!h[e]){var t;t="print"===e?m:"include"===e?y:C[e]?"$utils."+e:k[e]?"$helpers."+e:"$data."+e,b+=e+"="+t+",",h[e]=!0}}),e+"\n"}var o=t.debug,s=t.openTag,c=t.closeTag,u=t.parser,l=t.compress,d=t.escape,f=1,h={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},p="".trim,g=p?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],v=p?"$out+=text;return $out;":"$out.push(text);",m="function(){var text=''.concat.apply('',arguments);"+v+"}",y="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+v+"}",b="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(o?"$line=0,":""),_=g[0],x="return new String("+g[3]+");";$(e.split(s),function(e){e=e.split(c);var t=e[0],r=e[1];1===e.length?_+=n(t):(_+=a(t),r&&(_+=n(r)))});var w=b+_+x;o&&(w="try{"+w+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+i(e)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var S=new Function("$data","$filename",w);return S.prototype=C,S}catch(T){throw T.temp="function anonymous($data,$filename) {"+w+"}",T}}var o=e("./fly.core"),s={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},c="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",u=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,l=/[^\w$]+/g,d=new RegExp(["\\b"+c.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),f=/^\d[^,]*|,\d[^,]*/g,h=/^,+|,+$/g,p=/^$|,+/,g=function(e,t){if("string"!=typeof e){var n=typeof e;"number"===n?e+="":e="function"===n?g(e.call(t||e)):""}return e},v=function(e){return s[e]},m=function(e,t){return g(e,t).replace(/&(?![\w#]+;)|[<>"']/g,v)},y=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},b=function(e,t){var n,r;if(y(e))for(n=0,r=e.length;n<r;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)},_=function(e,t){return e.indexOf("<")!=-1?O(e):"string"==typeof t?O(t,{filename:e}):S(e,t)};_.config=function(e,t){x[e]=t};var x=_.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},w=_.cache={};_.render=function(e,t){return O(e,t)};var S=_.renderFile=function(e,t){var n=_.get(e)||T({filename:e,name:"Render Error",message:"Template not found"});return t?n(t):n};_.get=function(e){var t;if(w[e])t=w[e];else if("object"==typeof document){var n=document.getElementById(e);if(n){var r=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");t=O(r,{filename:e})}}return t};var C=_.utils={$helpers:{},$include:S,$string:g,$escape:m,$each:b};_.helper=function(e,t){k[e]=t};var k=_.helpers=C.$helpers;_.onerror=function(e){var t="Template Error\n\n";for(var n in e)t+="<"+n+">\n"+e[n]+"\n\n";"object"==typeof console&&console.error(t)};var T=function(e){return _.onerror(e),function(){return"{Template Error}"}},O=_.compile=function(e,t){function n(n){try{return new o(n,i)+""}catch(r){return t.debug?T(r)():(t.debug=!0,O(e,t)(n))}}t=t||{};for(var r in x)void 0===t[r]&&(t[r]=x[r]);var i=t.filename;try{var o=a(e,t)}catch(s){return s.filename=i||"anonymous",s.name="Syntax Error",T(s)}return n.prototype=o.prototype,n.toString=function(){return o.toString()},i&&t.cache&&(w[i]=n),n},$=C.$each;x.openTag="{{",x.closeTag="}}";var j=function(e,t){var n=t.split(":"),r=n.shift(),i=n.join(":")||"";return i&&(i=", "+i),"$helpers."+r+"("+e+i+")"};x.parser=function(e,t){e=e.replace(/^\s/,"");var n=e.split(" "),r=n.shift(),i=n.join(" ");switch(r){case"if":e="if("+i+"){";break;case"else":n="if"===n.shift()?" if("+n.join(" ")+")":"",e="}else"+n+"{";break;case"/if":e="}";break;case"each":var a=n[0]||"$data",o=n[1]||"as",s=n[2]||"$value",c=n[3]||"$index",u=s+","+c;"as"!==o&&(a="[]"),e="$each("+a+",function("+u+"){";break;case"/each":e="});";break;case"echo":e="print("+i+");";break;case"print":case"include":e=r+"("+n.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(i)){var l=!0;0===e.indexOf("#")&&(e=e.substr(1),l=!1);for(var d=0,f=e.split("|"),h=f.length,p=f[d++];d<h;d++)p=j(p,f[d]);e=(l?"=":"=#")+p}else e=_.helpers[r]?"=#"+r+"("+n.join(",")+");":"="+e}return e},o.template=_,t.exports=_},{"./fly.core":5}],17:[function(e,t,n){"use strict";function r(e){var t;return null==e?t=String(e):(t=Object.prototype.toString.call(e).toLowerCase(),t=t.substring(8,t.length-1)),t}function i(e){return e.getAttribute&&e.getAttribute("class")||""}var a,o=e("./fly.core"),s=e("./fly.support"),c=o.$,u=o.win,l=[].slice,d=u.location,f=/[\t\r\n\f]/g,h=/([A-Z])/g,p=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,g=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,v=/^(\+|-?)\d+(\.?)\d*$/,m=/\S+/g,y=/translate(?:3d)?\((.+?)\)/,b=/matrix(3d)?\((.+?)\)/,_="character",x="placeholder",w="string";o.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=d.search.substr(1).match(t);return null!=n?unescape(n[2]):""},o.parseQueryStringParams=function(e){for(var t=e.split("?")[1]||"",n={},r=t.split(/&|=/),i=r.length,a=0;a<i;a+=2)""!==r[a]&&(n[decodeURIComponent(r[a])]=decodeURIComponent(r[a+1]));return n},o.getHash=function(){return d.hash.slice(1)},o.now=Date.now||function(){return(new Date).getTime()},o.debug=function(){var e=(u.localStorage||{}).debug,t=l.call(arguments),n="color: #bada55",i=t.shift(),o=new RegExp(i.replace(/[.\/\\]/g,function(e){return"\\"+e}));i="%c"+i,(e&&"*"===e||o.test(e))&&(a!==i&&(console.groupEnd(a,n),console.group(a=i,n)),/string|number|boolean/.test(r(t[0]))&&(t[0]="%c"+t[0],t.splice(1,0,n)),console.log.apply(console,t))},o.later=function(e,t,n,r){t=t||0;var i,a,o=e,s=r;return"string"==typeof e&&(o=n[e]),i=function(){o.apply(n,c.isArray(s)?s:[s])},a=setTimeout(i,t),{id:a,cancel:function(){clearTimeout(a)}}},o.top=function(){var e=u,t=function(e){var t;try{t=u[e].document,t.getElementsByTagName}catch(n){return!1}return u[e].fly&&0===t.getElementsByTagName("frameset").length};return t("top")?e=u.top:t("parent")&&(e=u.parent),e}(),o.getComputedStyles=function(e,t){var n,r=document.defaultView,i={};return r&&r.getComputedStyle?(n=r.getComputedStyle(e,""),t&&c.each(t,function(e,t){i[t]=n.getPropertyValue(t)})):(n=e.currentStyle,t&&c.each(t,function(e,t){i[t]=n[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})]})),c.isEmptyObject(i)&&(i=n),i},o.focus=function(e){s.os.ios?setTimeout(function(){e.focus()},10):e.focus()},o.trigger=function(e,t,n){return e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0})),this},o.getStyles=function(e,t){var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n.getPropertyValue(t)||n[t]:n},o.parseTranslate=function(e,t){var n=e.match(y||"");return n&&n[1]||(n=["","0,0,0"]),n=n[1].split(","),n={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},t&&n.hasOwnProperty(t)?n[t]:n},o.parseTranslateMatrix=function(e,t){var n=e.match(b),r=n&&n[1];n?(n=n[2].split(","),"3d"===r?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0];var i={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])};return t&&i.hasOwnProperty(t)?i[t]:i},o.isScrollable=function(e){return"visible"!=o.getComputedStyles(e,["overflow"]).overflow},o.activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},o.preventDefault=function(e){e.preventDefault()},o.destroy=function(e){},o.on=function(e,t,n){2==arguments.length&&(n=t,t=e,e=this),e.addEventListener?e.addEventListener(t,n,!1):("input"==t&&(t="propertychange"),e.attachEvent("on"+t,n))},o.off=function(e,t,n){2==arguments.length&&(n=t,t=e,e=this),e.removeEventListener?e.removeEventListener(t,n):("input"==t&&(t="propertychange"),e.detachEvent("on"+t,n))},o.addClass=function(e,t){var n,r,a,o,s,u;if(n=t.match(m)||[],a=i(e),r=1===e.nodeType&&(" "+a+" ").replace(f," ")){for(s=0;o=n[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");u=c.trim(r),a!==u&&e.setAttribute("class",u)}},o.removeClass=function(e,t){var n,r,a,o,s,u;if(n=t.match(m)||[],a=i(e),r=1===e.nodeType&&(" "+a+" ").replace(f," ")){for(s=0;o=n[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");u=c.trim(r),a!==u&&e.setAttribute("class",u)}},o.deleteExpando=function(e,t){typeof e==w&&(t=e,e=this),s.deleteExpando?delete e[t]:e.removeAttribute?e.removeAttribute(t):e[t]=null},o.dataset=function(e){if(s.dataset)return e.dataset;var t,n,r=e.attributes,i={};for(t=0,n=r.length;t<n;t++)"data-"==r[t].name.substring(0,5)&&(i[r[t].name.substring(5)]=r[t].value);return i},o.throttle=function(e,t,n){var r,i,a,s=null,c=0;n||(n={});var u=function(){c=n.leading===!1?0:o.now(),s=null,a=e.apply(r,i),s||(r=i=null)};return function(){var l=o.now();c||n.leading!==!1||(c=l);var d=t-(l-c);return r=this,i=arguments,d<=0||d>t?(s&&(clearTimeout(s),s=null),c=l,a=e.apply(r,i),s||(r=i=null)):s||n.trailing===!1||(s=setTimeout(u,d)),a}},o.debounce=function(e,t,n){var r,i,a,s,c,u=function(){var l=o.now()-s;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(c=e.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,s=o.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(c=e.apply(a,i),a=i=null),c}},o.absoluteURL=function(e,t){if(!t)return e;e+"/"===t&&(e=t);var n=new RegExp("^"+t,"i");return n.test(e)||(e=t+"/"+e),d.protocol+"//"+(d.host+"/"+e).replace(/\/\/+/g,"/")},o.parseOption=function(e,t){var n;return 0===t.indexOf("data")&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(h,"-$1").toLowerCase(),n=e.getAttribute("data-"+t),null===n?n=void 0:"null"===n?n=null:"true"===n?n=!0:"false"===n?n=!1:v.test(n)?n=parseFloat(n):p.test(n)&&!g.test(n)&&(n=new Function("return ("+n+")")()),n},o.parseOptions=function(e,t){var n,r,i={},a=e.getAttribute(x);for(n in t)r=o.parseOption(e,n),void 0!==r&&(i[n]=r);return t[x]&&a&&!i[x]&&(i[x]=a),i},o.getByteLen=function(e){for(var t=0,e=e||"",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i>=0&&i<=128?1:2}return t},o.isDOM=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},o.selectRange=function(e,t,n){var r;return e=e[0]||e,e.createTextRange?(r=e.createTextRange(),r.collapse(!0),r.moveEnd(_,n),r.moveStart(_,t),r.select()):(e.focus(),e.setSelectionRange(t,n)),e}},{
"./fly.core":5,"./fly.support":15}]},{},[9]);